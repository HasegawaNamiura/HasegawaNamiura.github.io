function init(){worksColCheck=!1,$ws=$(".article_slider"),setsize(),workSlider(),wsSetImg(),map_init(),$(".thisiscontactpage").length?$html.addClass("contact"):$html.removeClass("contact"),(home=$(".index_poster").length)&&jumpFirstimg()}function deviceFromSize(){windowWidth>768?(device="pc",$scr=$(window)):windowWidth>480?(device="tablet",$scr=$(".scrollarea")):(device="mobile",$scr=$(".scrollarea"))}function setsize(){windowWidth=$(window).width(),windowHeight=$(window).height(),headerHeight=$(".header").height(),deviceFromSize(),$(".poster").height(windowHeight),$(".poster_half").height(windowHeight/2),categoryCols!=(categoryCols=windowWidth>listPoint?4:3)&&(worksColCheck=!1);var c=$(".category_workslist li:not(.rest_box)").length;if(!worksColCheck&&"pc"===device){var a=categoryCols-c%categoryCols;if($(".rest_box").remove(),a!=categoryCols)for(var b=a;b>0;b--)$(".category_workslist .workslist").append('<li class="rest_box"><span><img src="/wp/wp-content/themes/plantica/common/img/blank_rest.png" width="480" height="400" alt="" /><div class="workslist_label" />');worksColCheck=!0}$(".category_thumbnails").each(function(a,b){$(b).parents("li").removeClass(function(b,a){return(a.match(/\load_delay\S+/g)||[]).join(" ")}).addClass("load_delay"+a%categoryCols)}),$(".exhibition_clear").remove(),"pc"===device?$(".exhibition_list li:nth-child(3n)").after('<span class="exhibition_clear" />'):$(".exhibition_list li:nth-child(2n)").after('<span class="exhibition_clear" />'),$spMenu.css({height:windowHeight,width:windowWidth,top:-windowHeight/2,left:-windowWidth/2})}function load(){var a=new createjs.LoadQueue,b=[];$("img").each(function(c,a){b.push($(a).attr("src"))}),$(".countBG").each(function(d,a){var c=$(a).css("background-image").replace(/(url\(|\)|")/g,"");b.push(c),$(a).removeClass("countBG")}),a.loadManifest(b,!0),a.addEventListener("progress",handleProgress),a.addEventListener("complete",function(){$(".loader").css({display:"transparent",width:0,height:0}),setTimeout(function(){loadCompleteFunc(),$html.removeClass("loading").addClass("loaded"),setTimeout(function(){$html.removeClass("loaded")},1e3)},200)})}function handleProgress(a){var b=a.progress;$(".hdbar").removeClass("notrans").width(100*b+"%")}function loadCompleteFunc(){$fadeElems.velocity({opacity:1},{duration:300}),$hdInner.velocity({opacity:1,translateY:0},{duration:300,delay:300}),pjaxflag=!1,worksImgLoad(),delayInSetting(),$(".mask_block").velocity({opacity:1,translateY:0},400)}function scrollFunc(){headerScr(scrollVal=$scr.scrollTop()),stopscroll&&$scr.scrollTop(stopscrollPos),"pc"===device&&bgPlx(scrollVal),delayIn(scrollVal)}function bgPlx(a){$(".about_service, .about_exhibition").each(function(e,b){var c=$(b).data("offset"),d=$(b).height();a+windowHeight>c&&c+windowHeight>a&&$(b).css({"background-position":"50% "+(75*((a+windowHeight-c)/d)+25)+"%"})}),$(".about_poster, .about_philosophy").each(function(f,b){var c=$(b).data("offset"),e=$(b).height(),d=50*((a+windowHeight-c)/e)-50;a+windowHeight>c&&c+windowHeight>a&&d>0&&100>=d&&$(b).css({"background-position":"50% 100"-d+"%"})})}function delayInSetting(){$(".dlin").children().height(""),$(".dlin").each(function(c,a){var b=$(a).children().height();$(a).parent().height(b),$(a).children().height(b),$(a).closest(".dlin_holder").attr({"data-offset":$(this).offset().top-b})}),$(".dlfd").each(function(b,a){$(a).attr(home?{"data-offset":$(this).offset().top-windowHeight}:{"data-offset":$(this).offset().top})}),"pc"===device&&$(".about_service, .about_exhibition, .about_poster, .about_philosophy").each(function(b,a){$(a).attr({"data-offset":$(this).offset().top})}),delayIn(scrollVal),"pc"===device&&bgPlx(scrollVal)}function delayIn(a){$(".dlin_holder").each(function(d,b){var c=$(b).data("offset");a+windowHeight-50>c&&$(b).addClass("-o")}),$(".dlfd").each(function(d,b){var c=$(b).data("offset");a+windowHeight>c&&$(b).addClass("-o")})}function headerScr(b){var a=$("html");b>130?a.addClass("hdfixon"):0>=b?a.removeClass("hdfixon"):a.is(".pageUp")||a.removeClass("hdfixon")}function worksImgLoad(){$(".category_thumbnails").lazyload("pc"!=device?{container:$(".scrollarea"),load:function(){var a=$(this);imagesLoaded(a).on("done",function(){a.parents("li").addClass("loaded")})}}:{load:function(){var a=$(this);imagesLoaded(a).on("done",function(){a.parents("li").addClass("loaded")})}})}function workSlider(){function a(a){$_wsText_CUR.text(a+1)}function b(a,b){if($html.is(".playvideo")){for(n=0;vidLen>n;n++)player[n].pauseVideo();$html.removeClass("playvideo")}$_wsPage.removeClass("next_page prev_page current_page"),b>0&&$_wsCurr.addClass("jump_prev"),0>b&&$_wsCurr.addClass("jump_next"),$_wsCurr=$_wsPage.eq(a).addClass("current_page"),$(".slidenav_page").eq(a).addClass("current").siblings().removeClass("current"),$_wsCurr.nextAll(".slide_page").velocity("stop").velocity({width:"100%"},{duration:600,easing:[.77,0,.175,1]}).find("img").velocity("stop").velocity({translateX:"20%"},{duration:600,easing:[.77,0,.175,1]}),$_wsCurr.prevAll(".slide_page").velocity("stop").velocity({width:0},{duration:600,easing:[.77,0,.175,1]}).find("img").velocity("stop").velocity({translateX:"-20%"},{duration:600,easing:[.77,0,.175,1]}),$_wsCurr.velocity("stop").velocity({width:"100%"},{duration:600,easing:[.77,0,.175,1]}).find("img").velocity("stop").velocity({translateX:"0"},{duration:600,easing:[.77,0,.175,1]}),setTimeout(function(){$_wsPage.removeClass("jump_next jump_prev")},400),$_wsCurr.next(".slide_page").addClass("next_page"),$_wsCurr.prev(".slide_page").addClass("prev_page")}if($(".slide_holder").length)wsSetsize(),ws_pending=!1,$_wsPage=$(".slide_page"),$_wsHolder=$(".slide_holder"),$_wsCurr=$(".current_page"),$_wsCursor=$(".navigator"),$_wsText_ALL=$(".pages_all .num"),$_wsText_CUR=$(".pages_current .num"),wsPageLen=$(".slide_page").length,$_wsText_ALL.text(wsPageLen),wsNum=$_wsCurr.index();else{if($ws.find("li").each(function(c,b){var a=$(b);a.addClass("slide_page"),a.wrapInner('<div class="slide_holder" />')}),wsSetsize(),ws_pending=!1,$_wsPage=$(".slide_page"),$_wsHolder=$(".slide_holder"),$_wsCurr=$_wsPage.first().addClass("current_page"),$_wsCursor=$(".navigator"),$_wsText_ALL=$(".pages_all .num"),$_wsText_CUR=$(".pages_current .num"),wsPageLen=$(".slide_page").length,$_wsText_ALL.text(wsPageLen),wsNum=$_wsCurr.index(),1>=wsPageLen)return void $ws.addClass("singlemode");$_wsCurr.nextAll(".slide_page").find("img").velocity({translateX:"20%"},10)}$(".slidepanel, .navigator").on("click",function(d){if(!ws_pending){ws_pending=!0;var c=d.pageX;return c>dirNextArea&&(++wsNum>=wsPageLen&&(wsNum-=2),wsNum>=wsPageLen-1?$html.removeClass("dirNext").addClass("dirPrev"):$html.removeClass("dirPrev").addClass("dirNext"),b(wsNum,0)),dirPrevArea>c&&(0> --wsNum&&(wsNum+=2),1>wsNum?$html.removeClass("dirPrev").addClass("dirNext"):$html.removeClass("dirNext").addClass("dirPrev"),b(wsNum,0)),a(wsNum),setTimeout(function(){ws_pending=!1},500),!1}}),a(wsNum),function(){$(".slidenav > ul").empty();for(var c=0;wsPageLen>c;c++)$(".slidenav > ul").append('<li class="slidenav_page" data-page="'+c+'" ><span />');$(".slidenav_page").css({"max-width":100/wsPageLen+"%"}),"1"===(checkCur=$(".pages_current .num").text())?$(".slidenav_page").first().addClass("current"):$(".slidenav_page").eq(checkCur-1).addClass("current"),$(".slidenav").thumbnailSlider(),$(".slidenav_page").on("click",function(){var c=wsNum-$(this).data("page");if(b(wsNum=$(this).data("page"),c),a(wsNum),wsHeight>=windowHeight){var d=$ws.offset().top;$("html, body").velocity("scroll",{duration:600,offset:d})}})}(),$("img",$_wsHolder).on({mouseover:function(){$_wsCursor.addClass("invert")},mouseleave:function(){$_wsCursor.removeClass("invert")}}),$(".video_mask",$_wsHolder).on({mouseover:function(){$_wsCursor.addClass("invert").show()},mouseleave:function(){$_wsCursor.hide()}}),$ws.on({mousemove:function(b){var c=$(this).offset().top,a=b.pageX,d=b.pageY;$_wsCursor.css({top:d-c,left:a-5}),ws_pending||(a>=dirNextArea&&wsNum!=wsPageLen-1||0===wsNum?$html.addClass("dirNext"):$html.removeClass("dirNext"),dirPrevArea>=a&&0!=wsNum||wsNum===wsPageLen-1?$html.addClass("dirPrev"):$html.removeClass("dirPrev"))},mouseleave:function(){$html.removeClass("dirNext dirPrev")}})}function wsSetsize(){"pc"===device?(wsWidth=windowWidth,wsHeight=windowWidth/16*9,$ws.height(wsHeight),$(".slide_holder").width(wsWidth),dirNextArea=wsWidth/2,dirPrevArea=wsWidth/2):(wsHeight=windowWidth/14*9,wsWidth=.8*windowWidth,$ws.height(wsHeight),$(".article_slider").perfectScrollbar({wheelSpeed:10}))}function wsSetImg(){"pc"===device&&$(".slide_holder img").each(function(e,a){var c=$(a).data("mode"),d=$(a).data("wd"),b=$(a).data("hg");slideimgMt=0,"full"!=c?(slideimgMt=(windowWidth/d*b-wsHeight)/2,$(a).css({top:-slideimgMt+"px"})):b+40>=wsHeight||(slideimgMt=(b+40-wsHeight)/2,$(a).css({top:-slideimgMt+"px"})),$(a).css({top:-slideimgMt+"px"})})}function wsResetImg(){"pc"===device?$(".slide_holder img").each(function(c,a){var b=($(a).innerHeight()-wsHeight)/2;$(a).css({top:-b+"px"})}):$(".slide_holder img").css({top:""})}function createVideo(){for(vidLen=$(".video").length,i=0;vidLen>i;i++)player[i]=new YT.Player("player"+i,{width:160,height:90,videoId:$(".video").eq(i).data("yid"),playerVars:{showinfo:0,autohide:1,rel:0,loop:1,color:"white"},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function onPlayerReady(a){a.target.setVolume(20)}function onPlayerStateChange(a){switch(a.data){case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:$html.removeClass("playvideo");break;case YT.PlayerState.CUED:case YT.PlayerState.PLAYING:case YT.PlayerState.BUFFERING:default:$html.addClass("playvideo")}}function jumpFirstimg(){function b(){return!noscroll||ie||safari||$scr.scrollTop(0),!isAnimating&&(delayIn(scrollVal),void setTimeout(function(){0>=(homeScrollVal=$scr.scrollTop())&&isRevealed&&a(0),homeScrollVal>=0&&!isRevealed&&a(1)},100))}function a(a){isAnimating=!0,a?pullContainer.addClass("modify"):(noscroll=!0,disable_scroll(),pullContainer.removeClass("modify")),setTimeout(function(){isAnimating=!1,a?(noscroll=!1,enable_scroll(),isRevealed=!0,$(".category_thumbnails").lazyload({container:$(".scrollarea"),load:function(){var a=$(this);imagesLoaded(a).on("done",function(){a.parents("li").addClass("loaded")})}})):isRevealed=!1},1200)}pullContainer=$(".pull_page_container"),pullTrigger=$(".trigger_mask, .pull_trigger"),poster=$(".index_poster"),isRevealed=isAnimating=!1,noscroll=!0,disable_scroll(),homeScrollVal=$scr.scrollTop(),homeScrollVal>1&&a(1),$scr.on("scroll touchmove",function(){home&&b()}),$scr.on("mousewheel",function(a){home&&(a.deltaY>30||a.deltaY<0)&&b()}),pullTrigger.on("click",function(){b()})}function preventDefault(a){(a=a||window.event).preventDefault&&a.preventDefault(),a.returnValue=!1}function touchmove(a){preventDefault(a)}function disable_scroll(){window.onmousewheel=document.onmousewheel,document.body.ontouchmove=touchmove}function enable_scroll(){window.onmousewheel=document.onmousewheel=document.body.ontouchmove=null}function map_init(){var c,d,a=new google.maps.Geocoder,b=$(".map_address").val();a&&a.geocode({address:b},function(a,g){if(g==google.maps.GeocoderStatus.OK){for(var e in a)if(a[e].geometry){var f=a[e].geometry.location;c=f.lat(),d=f.lng(),drawmap(b,c,d)}}})}function drawmap(k,c,d){var b,e=new google.maps.LatLng(c+.005,d),h=new google.maps.LatLng(c,d),a="cool";if("pc"!=device)var f={zoom:13,center:e,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,a]},mapTypeId:a,mapTypeControl:!1,zoomControl:!1,scrollwheel:!1,streetViewControl:!1,draggable:!1};else var f={zoom:13,center:e,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,a]},mapTypeId:a,mapTypeControl:!1,zoomControl:!1,scrollwheel:!1,streetViewControl:!1};b=new google.maps.Map(document.getElementById("map"),f);var i=new google.maps.StyledMapType([{stylers:[{saturation:-100},{visibility:"simplified"},{gamma:1.91}]},{elementType:"labels.icon",stylers:[{visibility:"simplified"}]},{elementType:"labels.text",stylers:[{visibility:"simplified"},{color:"#aaaaaa"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"poi.business",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit.station",stylers:[{visibility:"off"},{saturation:-100}]}],{name:"sample"});if(b.mapTypes.set(a,i),"mobile"!=device)var g={url:"/wp/wp-content/themes/plantica/common/img/map_pin.png",size:new google.maps.Size(446,198),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(112,99),scaledSize:new google.maps.Size(233,99)};else var g={url:"/wp/wp-content/themes/plantica/common/img/map_pin.png",size:new google.maps.Size(446,376),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(80,71),scaledSize:new google.maps.Size(160,71)};var j=new google.maps.Marker({position:h,map:b,icon:g});google.maps.event.addListener(j,"click",function(){window.open("https://www.google.co.jp/maps/place/"+k)})}function getUA(){var a=window.navigator.userAgent.toLowerCase(),b=window.navigator.appVersion.toLowerCase();if(a.indexOf("msie")> -1){if(ie=!0,b.indexOf("msie 6.0")> -1)return ieAlert(),"ie ie6";if(b.indexOf("msie 7.0")> -1)return ieAlert(),"ie ie7";if(b.indexOf("msie 8.0")> -1)return ieAlert(),"ie ie8";if(b.indexOf("msie 9.0")> -1)return"ie ie9";if(b.indexOf("msie 10.0")> -1)return"ie ie10"}else{if(-1!=a.indexOf("Trident/")){ie=!0;var c=a.indexOf("rv:");return rv=parseInt(a.substring(c+3,a.indexOf(".",a.indexOf("rv:"))),10),"ie ie11"}if(-1!=a.indexOf("chrome"))return"chrome";if(-1!=a.indexOf("safari"))return safari=!0,"safari";if(-1!=a.indexOf("firefox"))return"firefox";if(-1!=a.indexOf("opera"))return"opera"}}function ieAlert(){$(".scrollarea").prepend('<div class="iealert"><div class="page_head_box"><div class="inner"><h2>Your Internet Explorer is out of date.</h2><div>\xe3\x81\u201C\xe3\x81\xae\xe3\u201A\xb5\xe3\u201A\xa4\xe3\u0192\u02C6\xe3\x81\xaf\xe3\x81\u201D\xe4\xbd\xbf\xe7\u201D\xa8\xe3\x81\xae\xe3\u0192\u2013\xe3\u0192\xa9\xe3\u201A\xa6\xe3\u201A\xb6\xe3\x81\xab\xe3\x81\xaf\xe5\xaf\xbe\xe5\xbf\u0153\xe3\x81\u2014\xe3\x81\xa6\xe3\x81\u0160\xe3\u201A\u0160\xe3\x81\xbe\xe3\x81\u203A\xe3\u201A\u201C\xe3\u20AC\u201A<br/>\xe3\u201A\xb5\xe3\u201A\xa4\xe3\u0192\u02C6\xe3\u201A\u2019\xe6\xad\xa3\xe3\x81\u2014\xe3\x81\x8f\xe8\xa1\xa8\xe7\xa4\xba\xe3\x81\u2122\xe3\u201A\u2039\xe3\x81\xab\xe3\x81\xaf\xe3\u20AC\x81\xe3\u0192\u2013\xe3\u0192\xa9\xe3\u201A\xa6\xe3\u201A\xb6\xe3\u201A\u2019\xe3\u201A\xa2\xe3\u0192\u0192\xe3\u0192\u2014\xe3\u201A\xb0\xe3\u0192\xac\xe3\u0192\xbc\xe3\u0192\u2030\xe3\x81\u2122\xe3\u201A\u2039\xe3\x81\u2039\xe3\u20AC\x81Chrome\xe3\x81\xbe\xe3\x81\u0178\xe3\x81\xafFirefox\xe3\x81\xa7\xe9\u2013\xb2\xe8\xa6\xa7\xe3\x81\u2014\xe3\x81\xa6\xe3\x81\x8f\xe3\x81 \xe3\x81\u2022\xe3\x81\u201E\xe3\u20AC\u201A<div class="browser_download"><ul><li><a href="http://windows.microsoft.com/en-us/internet-explorer/download-ie" target="_blank">\xe6\u0153\u20AC\xe6\u2013\xb0\xe3\x81\xaeInternet Explorer\xe3\x81\xb8\xe3\u201A\xa2\xe3\u0192\u0192\xe3\u0192\u2014\xe3\u201A\xb0\xe3\u0192\xac\xe3\u0192\xbc\xe3\u0192\u2030</a></li><li><a href="https://www.google.co.jp/chrome/browser/desktop/" target="_blank">\xe6\u0153\u20AC\xe6\u2013\xb0\xe3\x81\xaeChrome\xe3\u201A\u2019\xe3\u0192\u20AC\xe3\u201A\xa6\xe3\u0192\xb3\xe3\u0192\xad\xe3\u0192\xbc\xe3\u0192\u2030</a></li><li><a href="https://www.mozilla.org/ja/firefox/new/" target="_blank">\xe6\u0153\u20AC\xe6\u2013\xb0\xe3\x81\xaeFirefox\xe3\u201A\u2019\xe3\u0192\u20AC\xe3\u201A\xa6\xe3\u0192\xb3\xe3\u0192\xad\xe3\u0192\xbc\xe3\u0192\u2030</a> ')}!function(a){function f(b,c,d){var e=this;return this.on("click.pjax",b,function(f){var b=a.extend({},p(c,d));b.container||(b.container=a(this).attr("data-pjax")||e),g(f,b)})}function g(d,h,e){e=p(h,e);var b=d.currentTarget;if("A"!==b.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(d.which>1||d.metaKey||d.ctrlKey||d.shiftKey||d.altKey||location.protocol!==b.protocol||location.hostname!==b.hostname||b.hash&&b.href.replace(b.hash,"")===location.href.replace(location.hash,"")||b.href===location.href+"#"||d.isDefaultPrevented())){var i={url:b.href,container:a(b).attr("data-pjax"),target:b},f=a.extend({},i,e),g=a.Event("pjax:click");a(b).trigger(g,[f]),g.isDefaultPrevented()||(c(f),d.preventDefault(),a(b).trigger("pjax:clicked",[f]))}}function h(f,g,e){e=p(g,e);var b=f.currentTarget;if("FORM"!==b.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var d={type:b.method.toUpperCase(),url:b.action,container:a(b).attr("data-pjax"),target:b};if("GET"!==d.type&& void 0!==window.FormData)d.data=new FormData(b),d.processData=!1,d.contentType=!1;else{if(a(b).find(":file").length)return;d.data=a(b).serializeArray()}c(a.extend({},d,e)),f.preventDefault()}function c(b){function f(d,f,b){b||(b={}),b.relatedTarget=h;var c=a.Event(d,b);return e.trigger(c,f),!c.isDefaultPrevented()}b=a.extend(!0,{},a.ajaxSettings,c.defaults,b),a.isFunction(b.url)&&(b.url=b.url());var g,h=b.target,i=o(b.url).hash,e=b.context=q(b.container);b.data||(b.data={}),b.data._pjax=e.selector,b.beforeSend=function(c,a){return"GET"!==a.type&&(a.timeout=0),c.setRequestHeader("X-PJAX","true"),c.setRequestHeader("X-PJAX-Container",e.selector),!!f("pjax:beforeSend",[c,a])&&(a.timeout>0&&(g=setTimeout(function(){f("pjax:timeout",[c,b])&&c.abort("timeout")},a.timeout),a.timeout=0),void(b.requestUrl=o(a.url).href))},b.complete=function(a,c){g&&clearTimeout(g),f("pjax:complete",[a,c,b]),f("pjax:end",[a,b])},b.error=function(a,c,d){var e=t("",a,b),g=f("pjax:error",[a,c,d,b]);"GET"==b.type&&"abort"!==c&&g&&j(e.url)},b.success=function(l,r,h){var s=c.state,n="function"==typeof a.pjax.defaults.version?a.pjax.defaults.version():a.pjax.defaults.version,p=h.getResponseHeader("X-PJAX-Version"),d=t(l,h,b);if(n&&p&&n!==p||!d.contents)return void j(d.url);c.state={id:b.id||m(),url:d.url,title:d.title,container:e.selector,fragment:b.fragment,timeout:b.timeout},(b.push||b.replace)&&window.history.replaceState(c.state,d.title,d.url);try{document.activeElement.blur()}catch(v){}d.title&&(document.title=d.title),f("pjax:beforeReplace",[d.contents,b],{state:c.state,previousState:s}),e.html(d.contents);var k=e.find("input[autofocus], textarea[autofocus]").last()[0];if(k&&document.activeElement!==k&&k.focus(),u(d.scripts),"number"==typeof b.scrollTo&&a(window).scrollTop(b.scrollTo),""!==i){var g=o(d.url);g.hash=i,c.state.url=g.href,window.history.replaceState(c.state,d.title,g.href);var q=a(g.hash);q.length&&a(window).scrollTop(q.offset().top)}f("pjax:success",[l,r,h,b])},c.state||(c.state={id:m(),url:window.location.href,title:document.title,container:e.selector,fragment:b.fragment,timeout:b.timeout},window.history.replaceState(c.state,document.title));var d=c.xhr;d&&d.readyState<4&&(d.onreadystatechange=a.noop,d.abort()),c.options=b;var d=c.xhr=a.ajax(b);return d.readyState>0&&(b.push&&!b.replace&&(v(c.state.id,e.clone().contents()),window.history.pushState(null,"",n(b.requestUrl))),f("pjax:start",[d,b]),f("pjax:send",[d,b])),c.xhr}function i(b,d){var e={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return c(a.extend(e,p(b,d)))}function j(a){window.history.replaceState(null,"","#"),window.location.replace(a)}function k(i){var k=c.state,b=i.state;if(b&&b.container){if(e&&z==b.url||c.state&&c.state.id===b.id)return;var d=a(b.container);if(d.length){var h,g=A[b.id];c.state&&w(h=c.state.id<b.id?"forward":"back",c.state.id,d.clone().contents());var l=a.Event("pjax:popstate",{state:b,direction:h});d.trigger(l);var f={id:b.id,url:b.url,container:d,push:!1,fragment:b.fragment,timeout:b.timeout,scrollTo:!1};if(g){d.trigger("pjax:start",[null,f]),c.state=b,b.title&&(document.title=b.title);var m=a.Event("pjax:beforeReplace",{state:b,previousState:k});d.trigger(m,[g,f]),d.html(g),d.trigger("pjax:end",[null,f])}else c(f);d[0].offsetHeight}else j(location.href)}e=!1}function l(b){var f=a.isFunction(b.url)?b.url():b.url,d=b.type?b.type.toUpperCase():"GET",e=a("<form>",{method:"GET"===d?"GET":"POST",action:f,style:"display:none"});"GET"!==d&&"POST"!==d&&e.append(a("<input>",{type:"hidden",name:"_method",value:d.toLowerCase()}));var c=b.data;if("string"==typeof c)a.each(c.split("&"),function(d,c){var b=c.split("=");e.append(a("<input>",{type:"hidden",name:b[0],value:b[1]}))});else if("object"==typeof c)for(key in c)e.append(a("<input>",{type:"hidden",name:key,value:c[key]}));a(document.body).append(e),e.submit()}function m(){return(new Date).getTime()}function n(a){return a.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function o(b){var a=document.createElement("a");return a.href=b,a}function p(c,b){return c&&b?b.container=c:b=a.isPlainObject(c)?c:{container:c},b.container&&(b.container=q(b.container)),b}function q(b){if((b=a(b)).length){if(""!==b.selector&&b.context===document)return b;if(b.attr("id"))return a("#"+b.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+b.selector}function r(a,b){return a.filter(b).add(a.find(b))}function s(b){return a.parseHTML(b,document,!0)}function t(c,h,f){var b={};if(b.url=n(h.getResponseHeader("X-PJAX-URL")||f.requestUrl),/<html/i.test(c))var g=a(s(c.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),d=a(s(c.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var g=d=a(s(c));if(0===d.length)return b;if(b.title=r(g,"title").last().text(),f.fragment){if("body"===f.fragment)var e=d;else var e=r(d,f.fragment).first();e.length&&(b.contents=e.contents(),b.title||(b.title=e.attr("title")||e.data("title")))}else/<html/i.test(c)||(b.contents=d);return b.contents&&(b.contents=b.contents.not(function(){return a(this).is("title")}),b.contents.find("title").remove(),b.scripts=r(b.contents,"script[src]").remove(),b.contents=b.contents.not(b.scripts)),b.title&&(b.title=a.trim(b.title)),b}function u(b){if(b){var c=a("script[src]");b.each(function(){var e=this.src;if(!c.filter(function(){return this.src===e}).length){var b=document.createElement("script"),d=a(this).attr("type");d&&(b.type=d),b.src=a(this).attr("src"),document.head.appendChild(b)}})}}function v(a,b){A[a]=b,_.push(a),x(B,0),x(_,c.defaults.maxCacheLength)}function w(e,a,f){var b,d;A[a]=f,"forward"===e?(b=_,d=B):(b=B,d=_),b.push(a),(a=d.pop())&&delete A[a],x(b,c.defaults.maxCacheLength)}function x(a,b){for(;a.length>b;)delete A[a.shift()]}function y(){return a("meta").filter(function(){var b=a(this).attr("http-equiv");return b&&"X-PJAX-VERSION"===b.toUpperCase()}).attr("content")}function d(){a.fn.pjax=f,a.pjax=c,a.pjax.enable=a.noop,a.pjax.disable=$,a.pjax.click=g,a.pjax.submit=h,a.pjax.reload=i,a.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:y},a(window).on("popstate.pjax",k)}function $(){a.fn.pjax=function(){return this},a.pjax=l,a.pjax.enable=d,a.pjax.disable=a.noop,a.pjax.click=a.noop,a.pjax.submit=a.noop,a.pjax.reload=function(){window.location.reload()},a(window).off("popstate.pjax",k)}var e=!0,z=window.location.href,b=window.history.state;b&&b.container&&(c.state=b),"state"in window.history&&(e=!1);var A={},B=[],_=[];0>a.inArray("state",a.event.props)&&a.event.props.push("state"),a.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),a.support.pjax?d():$()}(jQuery),function(a,b,c,d){var e=a(b);a.fn.lazyload=function(f){function i(){var b=0;j.each(function(){var c=a(this);if(!g.skip_invisible||c.is(":visible")){if(a.abovethetop(this,g)||a.leftofbegin(this,g));else if(a.belowthefold(this,g)||a.rightoffold(this,g)){if(++b>g.failure_limit)return!1}else c.trigger("appear"),b=0}})}var h,j=this,g={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return f&&(d!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),d!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),a.extend(g,f)),h=g.container===d||g.container===b?e:a(g.container),0===g.event.indexOf("scroll")&&h.bind(g.event,function(){return i()}),this.each(function(){var c=this,b=a(c);c.loaded=!1,(b.attr("src")===d|| !1===b.attr("src"))&&b.is("img")&&b.attr("src",g.placeholder),b.one("appear",function(){if(!this.loaded){if(g.appear){var d=j.length;g.appear.call(c,d,g)}a("<img />").bind("load",function(){var d=b.attr("data-"+g.data_attribute);b.hide(),b.is("img")?b.attr("src",d):b.css("background-image","url('"+d+"')"),b[g.effect](g.effect_speed),c.loaded=!0;var e=a.grep(j,function(a){return!a.loaded});if(j=a(e),g.load){var f=j.length;g.load.call(c,f,g)}}).attr("src",b.attr("data-"+g.data_attribute))}}),0!==g.event.indexOf("scroll")&&b.bind(g.event,function(){c.loaded||b.trigger("appear")})}),e.bind("resize",function(){i()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&e.bind("pageshow",function(b){b.originalEvent&&b.originalEvent.persisted&&j.each(function(){a(this).trigger("appear")})}),a(c).ready(function(){i()}),this},a.belowthefold=function(f,c){return(c.container===d||c.container===b?(b.innerHeight?b.innerHeight:e.height())+e.scrollTop():a(c.container).offset().top+a(c.container).height())<=a(f).offset().top-c.threshold},a.rightoffold=function(f,c){return(c.container===d||c.container===b?e.width()+e.scrollLeft():a(c.container).offset().left+a(c.container).width())<=a(f).offset().left-c.threshold},a.abovethetop=function(f,c){return(c.container===d||c.container===b?e.scrollTop():a(c.container).offset().top)>=a(f).offset().top+c.threshold+a(f).height()},a.leftofbegin=function(f,c){return(c.container===d||c.container===b?e.scrollLeft():a(c.container).offset().left)>=a(f).offset().left+c.threshold+a(f).width()},a.inviewport=function(b,c){return!(a.rightoffold(b,c)||a.leftofbegin(b,c)||a.belowthefold(b,c)||a.abovethetop(b,c))},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})}(jQuery,window,document),(function(){function c(){}function e(b,c){for(var a=b.length;a--;)if(b[a].listener===c)return a;return -1}function b(a){return function(){return this[a].apply(this,arguments)}}var a=c.prototype,d=this,f=d.EventEmitter;a.getListeners=function(c){var d,a,b=this._getEvents();if("object"==typeof c)for(a in d={},b)b.hasOwnProperty(a)&&c.test(a)&&(d[a]=b[a]);else d=b[c]||(b[c]=[]);return d},a.flattenListeners=function(b){var a,c=[];for(a=0;b.length>a;a+=1)c.push(b[a].listener);return c},a.getListenersAsObject=function(b){var c,a=this.getListeners(b);return a instanceof Array&&((c={})[b]=a),c||a},a.addListener=function(d,a){var b,c=this.getListenersAsObject(d),f="object"==typeof a;for(b in c)c.hasOwnProperty(b)&& -1===e(c[b],a)&&c[b].push(f?a:{listener:a,once:!1});return this},a.on=b("addListener"),a.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},a.once=b("addOnceListener"),a.defineEvent=function(a){return this.getListeners(a),this},a.defineEvents=function(b){for(var a=0;b.length>a;a+=1)this.defineEvent(b[a]);return this},a.removeListener=function(d,f){var c,a,b=this.getListenersAsObject(d);for(a in b)b.hasOwnProperty(a)&& -1!==(c=e(b[a],f))&&b[a].splice(c,1);return this},a.off=b("removeListener"),a.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},a.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},a.manipulateListeners=function(d,b,e){var a,c,f=d?this.removeListener:this.addListener,g=d?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(a=e.length;a--;)f.call(this,b,e[a]);else for(a in b)b.hasOwnProperty(a)&&(c=b[a])&&("function"==typeof c?f.call(this,a,c):g.call(this,a,c));return this},a.removeEvent=function(c){var a,d=typeof c,b=this._getEvents();if("string"===d)delete b[c];else if("object"===d)for(a in b)b.hasOwnProperty(a)&&c.test(a)&&delete b[a];else delete this._events;return this},a.removeAllListeners=b("removeEvent"),a.emitEvent=function(d,f){var a,e,b,c=this.getListenersAsObject(d);for(b in c)if(c.hasOwnProperty(b))for(e=c[b].length;e--;)!0===(a=c[b][e]).once&&this.removeListener(d,a.listener),a.listener.apply(this,f||[])===this._getOnceReturnValue()&&this.removeListener(d,a.listener);return this},a.trigger=b("emitEvent"),a.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},a.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},a._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},a._getEvents=function(){return this._events||(this._events={})},c.noConflict=function(){return d.EventEmitter=f,c},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return c}):"object"==typeof module&&module.exports?module.exports=c:this.EventEmitter=c}).call(this),function(e){function f(b){var a=e.event;return a.target=a.target||a.srcElement||b,a}var a=document.documentElement,b=function(){};a.addEventListener?b=function(a,b,c){a.addEventListener(b,c,!1)}:a.attachEvent&&(b=function(a,b,c){a[b+c]=c.handleEvent?function(){var b=f(a);c.handleEvent.call(c,b)}:function(){var b=f(a);c.call(a,b)},a.attachEvent("on"+b,a[b+c])});var c=function(){};a.removeEventListener?c=function(a,b,c){a.removeEventListener(b,c,!1)}:a.detachEvent&&(c=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var d={bind:b,unbind:c};"function"==typeof define&&define.amd?define("eventie/eventie",d):e.eventie=d}(this),function(a,b){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(c,d){return b(a,c,d)}):"object"==typeof exports?module.exports=b(a,require("wolfy87-eventemitter"),require("eventie")):a.imagesLoaded=b(a,a.EventEmitter,a.eventie)}(window,function(e,c,h){function i(a,b){for(var c in b)a[c]=b[c];return a}function a(b,c,d){if(!(this instanceof a))return new a(b,c);"string"==typeof b&&(b=document.querySelectorAll(b)),this.elements=function(a){var d,b=[];if(d=a,"[object Array]"===k.call(d))b=a;else if("number"==typeof a.length)for(var c=0,e=a.length;e>c;c++)b.push(a[c]);else b.push(a);return b}(b),this.options=i({},this.options),"function"==typeof c?d=c:i(this.options,c),d&&this.on("always",d),this.getImages(),f&&(this.jqDeferred=new f.Deferred);var e=this;setTimeout(function(){e.check()})}function d(a){this.img=a}function b(a){this.src=a,l[a]=this}var f=e.jQuery,g=e.console,j=void 0!==g,k=Object.prototype.toString;a.prototype=new c,a.prototype.options={},a.prototype.getImages=function(){this.images=[];for(var c=0,f=this.elements.length;f>c;c++){var a=this.elements[c];"IMG"===a.nodeName&&this.addImage(a);var b=a.nodeType;if(b&&(1===b||9===b||11===b))for(var e=a.querySelectorAll("img"),d=0,g=e.length;g>d;d++){var h=e[d];this.addImage(h)}}},a.prototype.addImage=function(a){var b=new d(a);this.images.push(b)},a.prototype.check=function(){function d(a,c){return e.options.debug&&j&&g.log("confirm",a,c),e.progress(a),++f===b&&e.complete(),!0}var e=this,f=0,b=this.images.length;if(this.hasAnyBroken=!1,!b)return void this.complete();for(var a=0;b>a;a++){var c=this.images[a];c.on("confirm",d),c.check()}},a.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a),b.jqDeferred&&b.jqDeferred.notify&&b.jqDeferred.notify(b,a)})},a.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){if(b.emit(a,b),b.emit("always",b),b.jqDeferred){var c=b.hasAnyBroken?"reject":"resolve";b.jqDeferred[c](b)}})},f&&(f.fn.imagesLoaded=function(b,c){return new a(this,b,c).jqDeferred.promise(f(this))}),d.prototype=new c,d.prototype.check=function(){var a=l[this.img.src]||new b(this.img.src);if(a.isConfirmed)return void this.confirm(a.isLoaded,"cached was confirmed");if(this.img.complete&& void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var c=this;a.on("confirm",function(a,b){return c.confirm(a.isLoaded,b),!0}),a.check()},d.prototype.confirm=function(a,b){this.isLoaded=a,this.emit("confirm",this,b)};var l={};return b.prototype=new c,b.prototype.check=function(){if(!this.isChecked){var a=new Image;h.bind(a,"load",this),h.bind(a,"error",this),a.src=this.src,this.isChecked=!0}},b.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},b.prototype.onload=function(a){this.confirm(!0,"onload"),this.unbindProxyEvents(a)},b.prototype.onerror=function(a){this.confirm(!1,"onerror"),this.unbindProxyEvents(a)},b.prototype.confirm=function(a,b){this.isConfirmed=!0,this.isLoaded=a,this.emit("confirm",this,b)},b.prototype.unbindProxyEvents=function(a){h.unbind(a.target,"load",this),h.unbind(a.target,"error",this)},a}),function(e){function f(b){var c=b.length,d=a.type(b);return!("function"===d||a.isWindow(b))&&(1===b.nodeType&&!!c||"array"===d||0===c||"number"==typeof c&&c>0&&c-1 in b)}if(!e.jQuery){var a=function(b,c){return new a.fn.init(b,c)};a.isWindow=function(a){return null!=a&&a==a.window},a.type=function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?c[i.call(a)]||"object":typeof a},a.isArray=Array.isArray||function(b){return"array"===a.type(b)},a.isPlainObject=function(b){var c;if(!b||"object"!==a.type(b)||b.nodeType||a.isWindow(b))return!1;try{if(b.constructor&&!h.call(b,"constructor")&&!h.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(c in b);return void 0===c||h.call(b,c)},a.each=function(b,c,d){var a=0,e=b.length,g=f(b);if(d){if(g)for(;e>a&& !1!==c.apply(b[a],d);a++);else for(a in b)if(!1===c.apply(b[a],d))break}else if(g)for(;e>a&& !1!==c.call(b[a],a,b[a]);a++);else for(a in b)if(!1===c.call(b[a],a,b[a]))break;return b},a.data=function(e,c,f){if(void 0===f){var b=e[a.expando],d=b&&g[b];if(void 0===c)return d;if(d&&c in d)return d[c]}else if(void 0!==c){var b=e[a.expando]||(e[a.expando]=++a.uuid);return g[b]=g[b]||{},g[b][c]=f,f}},a.removeData=function(c,d){var b=c[a.expando],e=b&&g[b];e&&a.each(d,function(b,a){delete e[a]})},a.extend=function(){var d,g,c,f,h,i,b=arguments[0]||{},e=1,k=arguments.length,j=!1;for("boolean"==typeof b&&(j=b,b=arguments[e]||{},e++),"object"!=typeof b&&"function"!==a.type(b)&&(b={}),e===k&&(b=this,e--);k>e;e++)if(null!=(h=arguments[e]))for(f in h)d=b[f],c=h[f],b!==c&&(j&&c&&(a.isPlainObject(c)||(g=a.isArray(c)))?(g?(g=!1,i=d&&a.isArray(d)?d:[]):i=d&&a.isPlainObject(d)?d:{},b[f]=a.extend(j,i,c)):void 0!==c&&(b[f]=c));return b},a.queue=function(h,d,e){if(h){d=(d||"fx")+"queue";var b,g,c=a.data(h,d);return e?(!c||a.isArray(e)?c=a.data(h,d,(g=[],null!=(b=e)&&(f(Object(b))?function(a,b){for(var d=+b.length,c=0,e=a.length;d>c;)a[e++]=b[c++];if(d!=d)for(;void 0!==b[c];)a[e++]=b[c++];return a.length=e,a}(g,"string"==typeof b?[b]:b):[].push.call(g,b)),g)):c.push(e),c):c||[]}},a.dequeue=function(b,c){a.each(b.nodeType?[b]:b,function(f,e){c=c||"fx";var d=a.queue(e,c),b=d.shift();"inprogress"===b&&(b=d.shift()),b&&("fx"===c&&d.unshift("inprogress"),b.call(e,function(){a.dequeue(e,c)}))})},a.fn=a.prototype={init:function(a){if(a.nodeType)return this[0]=a,this;throw new Error("Not a DOM node.")},offset:function(){var a=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:a.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:a.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function b(){var a=this.offsetParent||document;return a&&a.nodeType.toLowerCase,a||document}var e=this[0],b=b.apply(e),c=this.offset(),d=/^(?:body|html)$/i.test(b.nodeName)?{top:0,left:0}:a(b).offset();return c.top-=parseFloat(e.style.marginTop)||0,c.left-=parseFloat(e.style.marginLeft)||0,b.style&&(d.top+=parseFloat(b.style.borderTopWidth)||0,d.left+=parseFloat(b.style.borderLeftWidth)||0),{top:c.top-d.top,left:c.left-d.left}}};var g={};a.expando="velocity"+(new Date).getTime(),a.uuid=0;for(var c={},h=c.hasOwnProperty,i=c.toString,d="Boolean Number String Function Array Date RegExp Object Error".split(" "),b=0;b<d.length;b++)c["[object "+d[b]+"]"]=d[b].toLowerCase();a.fn.init.prototype=a.fn,e.Velocity={Utilities:a}}}(window),function(a){"object"==typeof module&&"object"==typeof module.exports?module.exports=a():"function"==typeof define&&define.amd?define(a):a()}(function(){return function(c,b,f,d){function o(a){return v.isWrapped(a)?a=[].slice.call(a):v.isNode(a)&&(a=[a]),a}function p(b){var a=e.data(b,"velocity");return null===a?d:a}function q(a){return function(b){return Math.round(b*a)*(1/a)}}function r(a,g,c,h){function j(a,b){return 1-3*b+3*a}function k(a,b){return 3*b-6*a}function l(a,b,c){var d;return((j(b,c)*a+k(b,c))*a+3*b)*a}function m(a,b,c){var d;return 3*j(b,c)*a*a+2*k(b,c)*a+3*b}var n=4,o=.001,p=1e-7,q=10,e=11,r=1/(e-1),i="Float32Array"in b;if(4!==arguments.length)return!1;for(var d=0;4>d;++d)if("number"!=typeof arguments[d]||isNaN(arguments[d])||!isFinite(arguments[d]))return!1;a=Math.min(a,1),c=Math.min(c,1),a=Math.max(a,0),c=Math.max(c,0);var $=i?new Float32Array(e):new Array(e),s=!1,f=function(b){return s||(s=!0,(a!=g||c!=h)&&function(){for(var b=0;e>b;++b)$[b]=l(b*r,a,c)}()),a===g&&c===h?b:0===b?0:1===b?1:l(function(d){for(var f=0,b=1,i=e-1;b!=i&&$[b]<=d;++b)f+=r;--b;var g=f+(d-$[b])/($[b+1]-$[b])*r,h=m(g,a,c);return h>=o?function(f,b){for(var d=0;n>d;++d){var e=m(b,a,c);if(0===e)break;var g=l(b,a,c)-f;b-=g/e}return b}(d,g):0==h?g:function(g,d,e){var f,b,h=0;do(f=l(b=d+(e-d)/2,a,c)-g)>0?e=b:d=b;while(Math.abs(f)>p&& ++h<q)return b}(d,f,f+r)}(b),g,h)};f.getControlPoints=function(){return[{x:a,y:g},{x:c,y:h}]};var t="generateBezier("+[a,g,c,h]+")";return f.toString=function(){return t},f}function s(b,d){var c=b;return v.isString(b)?a.Easings[b]||(c=!1):c=v.isArray(b)&&1===b.length?q.apply(null,b):v.isArray(b)&&2===b.length?w.apply(null,b.concat([d])):!!v.isArray(b)&&4===b.length&&r.apply(null,b),!1===c&&(c=a.Easings[a.defaults.easing]?a.defaults.easing:n),c}function t(B){if(B){var n=(new Date).getTime(),w=a.State.calls.length;w>1e4&&(a.State.calls=function(a){for(var b=-1,e=a?a.length:0,c=[];++b<e;){var d=a[b];d&&c.push(d)}return c}(a.State.calls));for(var f=0;w>f;f++)if(a.State.calls[f]){var k=a.State.calls[f],x=k[0],b=k[2],h=k[3],C=!!h,y=null;h||(h=a.State.calls[f][3]=n-16);for(var l=Math.min((n-h)/b.duration,1),o=0,D=x.length;D>o;o++){var q=x[o],c=q.element;if(p(c)){var r=!1;if(b.display!==d&&null!==b.display&&"none"!==b.display){if("flex"===b.display){var E=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];e.each(E,function(b,a){j.setPropertyValue(c,"display",a)})}j.setPropertyValue(c,"display",b.display)}for(var g in b.visibility!==d&&"hidden"!==b.visibility&&j.setPropertyValue(c,"visibility",b.visibility),q)if("element"!==g){var i,_=q[g],F=v.isString(_.easing)?a.Easings[_.easing]:_.easing;if(1===l)i=_.endValue;else{var z=_.endValue-_.startValue;if(i=_.startValue+z*F(l,b,z),!C&&i===_.currentValue)continue}if(_.currentValue=i,"tween"===g)y=i;else{if(j.Hooks.registered[g]){var m=j.Hooks.getRoot(g),A=p(c).rootPropertyValueCache[m];A&&(_.rootPropertyValue=A)}var s=j.setPropertyValue(c,g,_.currentValue+(0===parseFloat(i)?"":_.unitType),_.rootPropertyValue,_.scrollData);j.Hooks.registered[g]&&(p(c).rootPropertyValueCache[m]=j.Normalizations.registered[m]?j.Normalizations.registered[m]("extract",null,s[1]):s[1]),"transform"===s[0]&&(r=!0)}}b.mobileHA&&p(c).transformCache.translate3d===d&&(p(c).transformCache.translate3d="(0px, 0px, 0px)",r=!0),r&&j.flushTransformCache(c)}}b.display!==d&&"none"!==b.display&&(a.State.calls[f][2].display=!1),b.visibility!==d&&"hidden"!==b.visibility&&(a.State.calls[f][2].visibility=!1),b.progress&&b.progress.call(k[1],k[1],l,Math.max(0,h+b.duration-n),h,y),1===l&&u(f)}}a.State.isTicking&&$(t)}function u(f,h){if(!a.State.calls[f])return!1;for(var l=a.State.calls[f][0],i=a.State.calls[f][1],b=a.State.calls[f][2],m=a.State.calls[f][4],n=!1,g=0,o=l.length;o>g;g++){var c=l[g].element;if(h||b.loop||("none"===b.display&&j.setPropertyValue(c,"display",b.display),"hidden"===b.visibility&&j.setPropertyValue(c,"visibility",b.visibility)),!0!==b.loop&&(e.queue(c)[1]===d||!/\.velocityQueueEntryFlag/i.test(e.queue(c)[1]))&&p(c)){p(c).isAnimating=!1,p(c).rootPropertyValueCache={};var q=!1;e.each(j.Lists.transforms3D,function(f,a){var b=/^scale/.test(a)?1:0,e=p(c).transformCache[a];p(c).transformCache[a]!==d&&new RegExp("^\\("+b+"[^.]").test(e)&&(q=!0,delete p(c).transformCache[a])}),b.mobileHA&&(q=!0,delete p(c).transformCache.translate3d),q&&j.flushTransformCache(c),j.Values.removeClass(c,"velocity-animating")}if(!h&&b.complete&&!b.loop&&g===o-1)try{b.complete.call(i,i)}catch(s){setTimeout(function(){throw s},1)}m&& !0!==b.loop&&m(i),p(c)&& !0===b.loop&&!h&&(e.each(p(c).tweensContainer,function(b,a){/^rotate/.test(b)&&360===parseFloat(a.endValue)&&(a.endValue=0,a.startValue=360),/^backgroundPosition/.test(b)&&100===parseFloat(a.endValue)&&"%"===a.unitType&&(a.endValue=0,a.startValue=100)}),a(c,"reverse",{loop:!0,delay:b.delay})),!1!==b.queue&&e.dequeue(c,b.queue)}a.State.calls[f]=!1;for(var k=0,r=a.State.calls.length;r>k;k++)if(!1!==a.State.calls[k]){n=!0;break}!1===n&&(a.State.isTicking=!1,delete a.State.calls,a.State.calls=[])}var k,e,h=function(){if(f.documentMode)return f.documentMode;for(var a=7;a>4;a--){var b=f.createElement("div");if(b.innerHTML="<!--[if IE "+a+"]><span></span><![endif]-->",b.getElementsByTagName("span").length)return b=null,a}return d}(),l=(k=0,b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||function(c){var a,b=(new Date).getTime();return a=Math.max(0,16-(b-k)),k=b+a,setTimeout(function(){c(b+a)},a)}),v={isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return"object"==typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&a.length!==d&&(0===a.length||"object"==typeof a[0]&&a[0].nodeType>0)},isWrapped:function(a){return a&&(a.jquery||b.Zepto&&b.Zepto.zepto.isZ(a))},isSVG:function(a){return b.SVGElement&&a instanceof b.SVGElement},isEmptyObject:function(a){for(var b in a)return!1;return!0}},i=!1;if(c.fn&&c.fn.jquery?(e=c,i=!0):e=b.Velocity.Utilities,8>=h&&!i)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=h)return void(jQuery.fn.velocity=jQuery.fn.animate);var m=400,n="swing",a={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:b.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:f.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:e,Redirects:{},Easings:{},Promise:b.Promise,defaults:{queue:"",duration:m,easing:n,begin:d,complete:d,progress:d,display:d,visibility:d,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(a){e.data(a,"velocity",{isSVG:v.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};b.pageYOffset!==d?(a.State.scrollAnchor=b,a.State.scrollPropertyLeft="pageXOffset",a.State.scrollPropertyTop="pageYOffset"):(a.State.scrollAnchor=f.documentElement||f.body.parentNode||f.body,a.State.scrollPropertyLeft="scrollLeft",a.State.scrollPropertyTop="scrollTop");var w=function(){function a(a){return-a.tension*a.x-a.friction*a.v}function b(b,c,d){var e={x:b.x+d.dx*c,v:b.v+d.dv*c,tension:b.tension,friction:b.friction};return{dx:e.v,dv:a(e)}}function c(c,d){var e={dx:c.v,dv:a(c)},f=b(c,.5*d,e),g=b(c,.5*d,f),h=b(c,d,g),i=1/6*(e.dx+2*(f.dx+g.dx)+h.dx),j=1/6*(e.dv+2*(f.dv+g.dv)+h.dv);return c.x=c.x+i*d,c.v=c.v+j*d,c}return function l(b,d,e){var f,i,a,g={x:-1,v:0,tension:null,friction:null},m=[0],h=0,j=1e-4,k=.016;for(b=parseFloat(b)||500,d=parseFloat(d)||20,e=e||null,g.tension=b,g.friction=d,f=null!==e,i=f?(h=l(b,d))/e*k:k;a=c(a||g,i),m.push(1+a.x),h+=16,Math.abs(a.x)>j&&Math.abs(a.v)>j;);return f?function(a){return m[a*(m.length-1)|0]}:h}}();a.Easings={linear:function(a){return a},swing:function(a){return .5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(-(6*a))}},e.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(c,b){a.Easings[b[0]]=r.apply(null,b[1])});var j=a.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var a,d,b,c=0;c<j.Lists.colors.length;c++){var f="color"===j.Lists.colors[c]?"0 0 0 1":"255 255 255 1";j.Hooks.templates[j.Lists.colors[c]]=["Red Green Blue Alpha",f]}if(h)for(a in j.Hooks.templates){b=(d=j.Hooks.templates[a])[0].split(" ");var e=d[1].match(j.RegEx.valueSplit);"Color"===b[0]&&(b.push(b.shift()),e.push(e.shift()),j.Hooks.templates[a]=[b.join(" "),e.join(" ")])}for(a in j.Hooks.templates)for(var c in b=(d=j.Hooks.templates[a])[0].split(" ")){var g=a+b[c],i=c;j.Hooks.registered[g]=[a,i]}},getRoot:function(a){var b=j.Hooks.registered[a];return b?b[0]:a},cleanRootPropertyValue:function(b,a){return j.RegEx.valueUnwrap.test(a)&&(a=a.match(j.RegEx.valueUnwrap)[1]),j.Values.isCSSNullValue(a)&&(a=j.Hooks.templates[b][1]),a},extractValue:function(c,a){var b=j.Hooks.registered[c];if(b){var d=b[0],e=b[1];return(a=j.Hooks.cleanRootPropertyValue(d,a)).toString().match(j.RegEx.valueSplit)[e]}return a},injectValue:function(d,e,a){var b=j.Hooks.registered[d];if(b){var c,f=b[0],g=b[1];return(c=(a=j.Hooks.cleanRootPropertyValue(f,a)).toString().match(j.RegEx.valueSplit))[g]=e,c.join(" ")}return a}},Normalizations:{registered:{clip:function(c,d,a){switch(c){case"name":return"clip";case"extract":var b;return j.RegEx.wrappedValueAlreadyExtracted.test(a)?a:(b=a.toString().match(j.RegEx.valueUnwrap))?b[1].replace(/,(\s+)?/g," "):a;case"inject":return"rect("+a+")"}},blur:function(e,f,b){switch(e){case"name":return a.State.isFirefox?"filter":"-webkit-filter";case"extract":var c=parseFloat(b);if(!c&&0!==c){var d=b.toString().match(/blur\(([0-9]+[A-z]+)\)/i);c=d?d[1]:0}return c;case"inject":return parseFloat(b)?"blur("+b+")":"none"}},opacity:function(b,d,a){if(8>=h)switch(b){case"name":return"filter";case"extract":var c=a.toString().match(/alpha\(opacity=(.*)\)/i);return a=c?c[1]/100:1;case"inject":return d.style.zoom=1,parseFloat(a)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(a),10)+")"}else switch(b){case"name":return"opacity";case"extract":case"inject":return a}}},register:function(){9>=h||a.State.isGingerbread||(j.Lists.transformsBase=j.Lists.transformsBase.concat(j.Lists.transforms3D));for(var b=0;b<j.Lists.transformsBase.length;b++)!function(){var c=j.Lists.transformsBase[b];j.Normalizations.registered[c]=function(g,b,e){switch(g){case"name":return"transform";case"extract":return p(b)===d||p(b).transformCache[c]===d?/^scale/i.test(c)?1:0:p(b).transformCache[c].replace(/[()]/g,"");case"inject":var f=!1;switch(c.substr(0,c.length-1)){case"translate":f=!/(%|px|em|rem|vw|vh|\d)$/i.test(e);break;case"scal":case"scale":a.State.isAndroid&&p(b).transformCache[c]===d&&1>e&&(e=1),f=!/(\d)$/i.test(e);break;case"skew":case"rotate":f=!/(deg|\d)$/i.test(e)}return f||(p(b).transformCache[c]="("+e+")"),p(b).transformCache[c]}}}();for(var b=0;b<j.Lists.colors.length;b++)!function(){var a=j.Lists.colors[b];j.Normalizations.registered[a]=function(g,i,b){switch(g){case"name":return a;case"extract":var c;if(j.RegEx.wrappedValueAlreadyExtracted.test(b))c=b;else{var e,f={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(b)?e=f[b]!==d?f[b]:f.black:j.RegEx.isHex.test(b)?e="rgb("+j.Values.hexToRgb(b).join(" ")+")":/^rgba?\(/i.test(b)||(e=f.black),c=(e||b).toString().match(j.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=h||3!==c.split(" ").length||(c+=" 1"),c;case"inject":return 8>=h?4===b.split(" ").length&&(b=b.split(/\s+/).slice(0,3).join(" ")):3===b.split(" ").length&&(b+=" 1"),(8>=h?"rgb":"rgba")+"("+b.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(b,a){return a.toUpperCase()})},SVGAttribute:function(c){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(h||a.State.isAndroid&&!a.State.isChrome)&&(b+="|transform"),new RegExp("^("+b+")$","i").test(c)},prefixCheck:function(b){if(a.State.prefixMatches[b])return[a.State.prefixMatches[b],!0];for(var c,e=["","Webkit","Moz","ms","O"],d=0,f=e.length;f>d;d++)if(c=0===d?b:e[d]+b.replace(/^\w/,function(a){return a.toUpperCase()}),v.isString(a.State.prefixElement.style[c]))return a.State.prefixMatches[b]=c,[c,!0];return[b,!1]}},Values:{hexToRgb:function(b){var a,c=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return b=b.replace(c,function(d,a,b,c){return a+a+b+b+c+c}),(a=d.exec(b))?[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]:[0,0,0]},isCSSNullValue:function(a){return 0==a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?"":"px"},getDisplayType:function(b){var a=b&&b.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(a)?"inline":/^(li)$/i.test(a)?"list-item":/^(tr)$/i.test(a)?"table-row":/^(table)$/i.test(a)?"table":/^(tbody)$/i.test(a)?"table-row-group":"block"},addClass:function(a,b){a.classList?a.classList.add(b):a.className+=(a.className.length?" ":"")+b},removeClass:function(a,b){a.classList?a.classList.remove(b):a.className=a.className.toString().replace(new RegExp("(^|\\s)"+b.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(g,c,i,q){function m(a,c){function g(){l&&j.setPropertyValue(a,"display","none")}var f=0;if(8>=h)f=e.css(a,c);else{var i,l=!1;if(/^(width|height)$/.test(c)&&0===j.getPropertyValue(a,"display")&&(l=!0,j.setPropertyValue(a,"display",j.Values.getDisplayType(a))),!q){if("height"===c&&"border-box"!==j.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var n=a.offsetHeight-(parseFloat(j.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(j.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(j.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(j.getPropertyValue(a,"paddingBottom"))||0);return g(),n}if("width"===c&&"border-box"!==j.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var o=a.offsetWidth-(parseFloat(j.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(j.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(j.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(j.getPropertyValue(a,"paddingRight"))||0);return g(),o}}i=p(a)===d?b.getComputedStyle(a,null):p(a).computedStyle?p(a).computedStyle:p(a).computedStyle=b.getComputedStyle(a,null),"borderColor"===c&&(c="borderTopColor"),(""===(f=9===h&&"filter"===c?i.getPropertyValue(c):i[c])||null===f)&&(f=a.style[c]),g()}if("auto"===f&&/^(top|right|bottom|left)$/i.test(c)){var k=m(a,"position");("fixed"===k||"absolute"===k&&/top|left/i.test(c))&&(f=e(a).position()[c]+"px")}return f}if(j.Hooks.registered[c]){var f,n,k,o=c,l=j.Hooks.getRoot(o);i===d&&(i=j.getPropertyValue(g,j.Names.prefixCheck(l)[0])),j.Normalizations.registered[l]&&(i=j.Normalizations.registered[l]("extract",g,i)),f=j.Hooks.extractValue(o,i)}else j.Normalizations.registered[c]&&("transform"!==(n=j.Normalizations.registered[c]("name",g))&&(k=m(g,j.Names.prefixCheck(n)[0]),j.Values.isCSSNullValue(k)&&j.Hooks.templates[c]&&(k=j.Hooks.templates[c][1])),f=j.Normalizations.registered[c]("extract",g,k));if(!/^[\d-]/.test(f)){if(p(g)&&p(g).isSVG&&j.Names.SVGAttribute(c)){if(/^(height|width)$/i.test(c))try{f=g.getBBox()[c]}catch(r){f=0}else f=g.getAttribute(c)}else f=m(g,j.Names.prefixCheck(c)[0])}return j.Values.isCSSNullValue(f)&&(f=0),a.debug>=2&&console.log("Get "+c+": "+f),f},setPropertyValue:function(e,c,d,i,g){var f=c;if("scroll"===c)g.container?g.container["scroll"+g.direction]=d:"Left"===g.direction?b.scrollTo(d,g.alternateValue):b.scrollTo(g.alternateValue,d);else if(j.Normalizations.registered[c]&&"transform"===j.Normalizations.registered[c]("name",e))j.Normalizations.registered[c]("inject",e,d),f="transform",d=p(e).transformCache[c];else{if(j.Hooks.registered[c]){var l=c,k=j.Hooks.getRoot(c);i=i||j.getPropertyValue(e,k),d=j.Hooks.injectValue(l,d,i),c=k}if(j.Normalizations.registered[c]&&(d=j.Normalizations.registered[c]("inject",e,d),c=j.Normalizations.registered[c]("name",e)),f=j.Names.prefixCheck(c)[0],8>=h)try{e.style[f]=d}catch(m){a.debug&&console.log("Browser does not support ["+d+"] for ["+f+"]")}else p(e)&&p(e).isSVG&&j.Names.SVGAttribute(c)?e.setAttribute(c,d):e.style[f]=d;a.debug>=2&&console.log("Set "+c+" ("+f+"): "+d)}return[f,d]},flushTransformCache:function(c){function b(a){return parseFloat(j.getPropertyValue(c,a))}var g,f,d="";if((h||a.State.isAndroid&&!a.State.isChrome)&&p(c).isSVG){var i={translate:[b("translateX"),b("translateY")],skewX:[b("skewX")],skewY:[b("skewY")],scale:1!==b("scale")?[b("scale"),b("scale")]:[b("scaleX"),b("scaleY")],rotate:[b("rotateZ"),0,0]};e.each(p(c).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate"),i[a]&&(d+=a+"("+i[a].join(" ")+") ",delete i[a])})}else e.each(p(c).transformCache,function(a){return g=p(c).transformCache[a],"transformPerspective"===a?(f=g,!0):(9===h&&"rotateZ"===a&&(a="rotate"),void(d+=a+g+" "))}),f&&(d="perspective"+f+" "+d);j.setPropertyValue(c,"transform",d)}};j.Hooks.register(),j.Normalizations.register(),a.hook=function(b,f,g){var c=d;return b=o(b),e.each(b,function(h,b){if(p(b)===d&&a.init(b),g===d)c===d&&(c=a.CSS.getPropertyValue(b,f));else{var e=a.CSS.setPropertyValue(b,f,g);"transform"===e[0]&&a.CSS.flushTransformCache(b),c=e}}),c};var g=function(){function r(){return x?q.promise||null:C}function E(){function i(){function O(a,h){var b=d,f=d,e=d;return v.isArray(a)?(b=a[0],!v.isArray(a[1])&&/^[\d-]/.test(a[1])||v.isFunction(a[1])||j.RegEx.isHex.test(a[1])?e=a[1]:(v.isString(a[1])&&!j.RegEx.isHex.test(a[1])||v.isArray(a[1]))&&(f=h?a[1]:s(a[1],c.duration),a[2]!==d&&(e=a[2]))):b=a,h||(f=f||c.easing),v.isFunction(b)&&(b=b.call(g,F,$)),v.isFunction(e)&&(e=e.call(g,F,$)),[b||0,f,e]}function H(c,d){var a,b;return b=(d||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(b){return a=b,""}),a||(a=j.Values.getUnitType(c)),[b,a]}function P(){var d={myParent:g.parentNode||f.body,position:j.getPropertyValue(g,"position"),fontSize:j.getPropertyValue(g,"fontSize")},k=d.position===I.lastPosition&&d.myParent===I.lastParent,l=d.fontSize===I.lastFontSize;I.lastParent=d.myParent,I.lastPosition=d.position,I.lastFontSize=d.fontSize;var i=100,c={};if(l&&k)c.emToPx=I.lastEmToPx,c.percentToPxWidth=I.lastPercentToPxWidth,c.percentToPxHeight=I.lastPercentToPxHeight;else{var h=p(g).isSVG?f.createElementNS("http://www.w3.org/2000/svg","rect"):f.createElement("div");a.init(h),d.myParent.appendChild(h),e.each(["overflow","overflowX","overflowY"],function(c,b){a.CSS.setPropertyValue(h,b,"hidden")}),a.CSS.setPropertyValue(h,"position",d.position),a.CSS.setPropertyValue(h,"fontSize",d.fontSize),a.CSS.setPropertyValue(h,"boxSizing","content-box"),e.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(c,b){a.CSS.setPropertyValue(h,b,i+"%")}),a.CSS.setPropertyValue(h,"paddingLeft",i+"em"),c.percentToPxWidth=I.lastPercentToPxWidth=(parseFloat(j.getPropertyValue(h,"width",null,!0))||1)/i,c.percentToPxHeight=I.lastPercentToPxHeight=(parseFloat(j.getPropertyValue(h,"height",null,!0))||1)/i,c.emToPx=I.lastEmToPx=(parseFloat(j.getPropertyValue(h,"paddingLeft"))||1)/i,d.myParent.removeChild(h)}return null===I.remToPx&&(I.remToPx=parseFloat(j.getPropertyValue(f.body,"fontSize"))||16),null===I.vwToPx&&(I.vwToPx=parseFloat(b.innerWidth)/100,I.vhToPx=parseFloat(b.innerHeight)/100),c.remToPx=I.remToPx,c.vwToPx=I.vwToPx,c.vhToPx=I.vhToPx,a.debug>=1&&console.log("Unit ratios: "+JSON.stringify(c),g),c}if(c.begin&&0===F)try{c.begin.call(h,h)}catch(S){setTimeout(function(){throw S},1)}if("scroll"===K){var D,L,E,z=/^x$/i.test(c.axis)?"Left":"Top",_=parseFloat(c.offset)||0;c.container?v.isWrapped(c.container)||v.isNode(c.container)?(c.container=c.container[0]||c.container,E=(D=c.container["scroll"+z])+e(g).position()[z.toLowerCase()]+_):c.container=null:(D=a.State.scrollAnchor[a.State["scrollProperty"+z]],L=a.State.scrollAnchor[a.State["scrollProperty"+("Left"===z?"Top":"Left")]],E=e(g).offset()[z.toLowerCase()]+_),o={scroll:{rootPropertyValue:!1,startValue:D,currentValue:D,endValue:E,unitType:"",easing:c.easing,scrollData:{container:c.container,direction:z,alternateValue:L}},element:g},a.debug&&console.log("tweensContainer (scroll): ",o.scroll,g)}else if("reverse"===K){if(!p(g).tweensContainer)return void e.dequeue(g,c.queue);"none"===p(g).opts.display&&(p(g).opts.display="auto"),"hidden"===p(g).opts.visibility&&(p(g).opts.visibility="visible"),p(g).opts.loop=!1,p(g).opts.begin=null,p(g).opts.complete=null,l.easing||delete c.easing,l.duration||delete c.duration,c=e.extend({},p(g).opts,c);var u=e.extend(!0,{},p(g).tweensContainer);for(var x in u)if("element"!==x){var Q=u[x].startValue;u[x].startValue=u[x].currentValue=u[x].endValue,u[x].endValue=Q,v.isEmptyObject(l)||(u[x].easing=c.easing),a.debug&&console.log("reverse tweensContainer ("+x+"): "+JSON.stringify(u[x]),g)}o=u}else if("start"===K){for(var m in p(g).tweensContainer&& !0===p(g).isAnimating&&(u=p(g).tweensContainer),e.each(k,function(b,m){if(RegExp("^"+j.Lists.colors.join("$|^")+"$").test(b)){var c=O(m,!0),f=c[0],g=c[1],h=c[2];if(j.RegEx.isHex.test(f)){for(var i=["Red","Green","Blue"],n=j.Values.hexToRgb(f),l=h?j.Values.hexToRgb(h):d,a=0;a<i.length;a++){var e=[n[a]];g&&e.push(g),l!==d&&e.push(l[a]),k[b+i[a]]=e}delete k[b]}}}),k){var G=O(k[m]),r=G[0],R=G[1],i=G[2];m=j.Names.camelCase(m);var y=j.Hooks.getRoot(m),B=!1;if(p(g).isSVG||"tween"===y|| !1!==j.Names.prefixCheck(y)[1]||j.Normalizations.registered[y]!==d){(c.display!==d&&null!==c.display&&"none"!==c.display||c.visibility!==d&&"hidden"!==c.visibility)&&/opacity|filter/.test(m)&&!i&&0!==r&&(i=0),c._cacheValues&&u&&u[m]?(i===d&&(i=u[m].endValue+u[m].unitType),B=p(g).rootPropertyValueCache[y]):j.Hooks.registered[m]?i===d?(B=j.getPropertyValue(g,y),i=j.getPropertyValue(g,m,B)):B=j.Hooks.templates[y][1]:i===d&&(i=j.getPropertyValue(g,m));var u,C,w,A,M=!1;if(i=(C=H(m,i))[0],A=C[1],C=H(m,r),r=C[0].replace(/^([+-\/*])=/,function(b,a){return M=a,""}),w=C[1],i=parseFloat(i)||0,r=parseFloat(r)||0,"%"===w&&(/^(fontSize|lineHeight)$/.test(m)?(r/=100,w="em"):/^scale/.test(m)?(r/=100,w=""):/(Red|Green|Blue)$/i.test(m)&&(r=r/100*255,w="")),/[\/*]/.test(M))w=A;else if(A!==w&&0!==i){if(0===r)w=A;else{n=n||P();var N=/margin|padding|left|right|width|text|word|letter/i.test(m)||/X$/.test(m)||"x"===m?"x":"y";switch(A){case"%":i*="x"===N?n.percentToPxWidth:n.percentToPxHeight;break;case"px":break;default:i*=n[A+"ToPx"]}switch(w){case"%":i*=1/("x"===N?n.percentToPxWidth:n.percentToPxHeight);break;case"px":break;default:i*=1/n[w+"ToPx"]}}}switch(M){case"+":r=i+r;break;case"-":r=i-r;break;case"*":r*=i;break;case"/":r=i/r}o[m]={rootPropertyValue:B,startValue:i,currentValue:i,endValue:r,unitType:w,easing:R},a.debug&&console.log("tweensContainer ("+m+"): "+JSON.stringify(o[m]),g)}else a.debug&&console.log("Skipping ["+y+"] due to a lack of browser support.")}o.element=g}o.element&&(j.Values.addClass(g,"velocity-animating"),J.push(o),""===c.queue&&(p(g).tweensContainer=o,p(g).opts=c),p(g).isAnimating=!0,F===$-1?(a.State.calls.push([J,h,c,null,q.resolver]),!1===a.State.isTicking&&(a.State.isTicking=!0,t())):F++)}var n,g=this,c=e.extend({},a.defaults,l),o={};switch(p(g)===d&&a.init(g),parseFloat(c.delay)&& !1!==c.queue&&e.queue(g,c.queue,function(b){a.velocityQueueEntryFlag=!0,p(g).delayTimer={setTimeout:setTimeout(b,parseFloat(c.delay)),next:b}}),c.duration.toString().toLowerCase()){case"fast":c.duration=200;break;case"normal":c.duration=m;break;case"slow":c.duration=600;break;default:c.duration=parseFloat(c.duration)||1}!1!==a.mock&&(!0===a.mock?c.duration=c.delay=1:(c.duration*=parseFloat(a.mock)||1,c.delay*=parseFloat(a.mock)||1)),c.easing=s(c.easing,c.duration),c.begin&&!v.isFunction(c.begin)&&(c.begin=null),c.progress&&!v.isFunction(c.progress)&&(c.progress=null),c.complete&&!v.isFunction(c.complete)&&(c.complete=null),c.display!==d&&null!==c.display&&(c.display=c.display.toString().toLowerCase(),"auto"===c.display&&(c.display=a.CSS.Values.getDisplayType(g))),c.visibility!==d&&null!==c.visibility&&(c.visibility=c.visibility.toString().toLowerCase()),c.mobileHA=c.mobileHA&&a.State.isMobile&&!a.State.isGingerbread,!1===c.queue?c.delay?setTimeout(i,c.delay):i():e.queue(g,c.queue,function(b,c){return!0===c?(q.promise&&q.resolver(h),!0):(a.velocityQueueEntryFlag=!0,void i(b))}),""!==c.queue&&"fx"!==c.queue||"inprogress"===e.queue(g)[0]||e.dequeue(g)}var x,C,n,h,k,l,A=arguments[0]&&(arguments[0].p||e.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||v.isString(arguments[0].properties));if(v.isWrapped(this)?(x=!1,n=0,h=this,C=this):(x=!0,n=1,h=A?arguments[0].elements||arguments[0].e:arguments[0]),h=o(h)){A?(k=arguments[0].properties||arguments[0].p,l=arguments[0].options||arguments[0].o):(k=arguments[n],l=arguments[n+1]);var $=h.length,F=0;if(!/^(stop|finish)$/i.test(k)&&!e.isPlainObject(l)){var D=n+1;l={};for(var i=D;i<arguments.length;i++)!v.isArray(arguments[i])&&(/^(fast|normal|slow)$/i.test(arguments[i])||/^\d/.test(arguments[i]))?l.duration=arguments[i]:v.isString(arguments[i])||v.isArray(arguments[i])?l.easing=arguments[i]:v.isFunction(arguments[i])&&(l.complete=arguments[i])}var q={promise:null,resolver:null,rejecter:null};switch(x&&a.Promise&&(q.promise=new a.Promise(function(a,b){q.resolver=a,q.rejecter=b})),k){case"scroll":K="scroll";break;case"reverse":K="reverse";break;case"finish":case"stop":e.each(h,function(b,a){p(a)&&p(a).delayTimer&&(clearTimeout(p(a).delayTimer.setTimeout),p(a).delayTimer.next&&p(a).delayTimer.next(),delete p(a).delayTimer)});var _=[];return e.each(a.State.calls,function(b,a){a&&e.each(a[1],function(f,g){var c=l===d?"":l;return!0!==c&&a[2].queue!==c&&(l!==d|| !1!==a[2].queue)||void e.each(h,function(f,d){d===g&&((!0===l||v.isString(l))&&(e.each(e.queue(d,v.isString(l)?l:""),function(b,a){v.isFunction(a)&&a(null,!0)}),e.queue(d,v.isString(l)?l:"",[])),"stop"===k?(p(d)&&p(d).tweensContainer&& !1!==c&&e.each(p(d).tweensContainer,function(b,a){a.endValue=a.currentValue}),_.push(b)):"finish"===k&&(a[2].duration=1))})})}),"stop"===k&&(e.each(_,function(b,a){u(a,!0)}),q.promise&&q.resolver(h)),r();default:if(!e.isPlainObject(k)||v.isEmptyObject(k)){if(v.isString(k)&&a.Redirects[k]){var c=e.extend({},l),G=c.duration,H=c.delay||0;return!0===c.backwards&&(h=e.extend(!0,[],h).reverse()),e.each(h,function(b,e){parseFloat(c.stagger)?c.delay=H+parseFloat(c.stagger)*b:v.isFunction(c.stagger)&&(c.delay=H+c.stagger.call(e,b,$)),c.drag&&(c.duration=parseFloat(G)||(/^(callout|transition)/.test(k)?1e3:m),c.duration=Math.max(c.duration*(c.backwards?1-b/$:(b+1)/$),.75*c.duration,200)),a.Redirects[k].call(e,e,c||{},b,$,h,q.promise?q:d)}),r()}var B="Velocity: First argument ("+k+") was not a property map, a known action, or a registered redirect. Aborting.";return q.promise?q.rejecter(new Error(B)):console.log(B),r()}K="start"}var I={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},J=[];e.each(h,function(b,a){v.isNode(a)&&E.call(a)});var K,y,c=e.extend({},a.defaults,l);if(c.loop=parseInt(c.loop),y=2*c.loop-1,c.loop)for(var z=0;y>z;z++){var w={delay:c.delay,progress:c.progress};z===y-1&&(w.display=c.display,w.visibility=c.visibility,w.complete=c.complete),g(h,"reverse",w)}return r()}};(a=e.extend(g,a)).animate=g;var $=b.requestAnimationFrame||l;return a.State.isMobile||f.hidden===d||f.addEventListener("visibilitychange",function(){f.hidden?($=function(a){return setTimeout(function(){a(!0)},16)},t()):$=b.requestAnimationFrame||l}),c.Velocity=a,c!==b&&(c.fn.velocity=g,c.fn.velocity.defaults=a.defaults),e.each(["Down","Up"],function(c,b){a.Redirects["slide"+b]=function(f,g,i,j,k,l){var c=e.extend({},g),m=c.begin,n=c.complete,h={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},o={};c.display===d&&(c.display="Down"===b?"inline"===a.CSS.Values.getDisplayType(f)?"inline-block":"block":"none"),c.begin=function(){for(var c in m&&m.call(k,k),h){o[c]=f.style[c];var d=a.CSS.getPropertyValue(f,c);h[c]="Down"===b?[d,0]:[0,d]}o.overflow=f.style.overflow,f.style.overflow="hidden"},c.complete=function(){for(var a in o)f.style[a]=o[a];n&&n.call(k,k),l&&l.resolver(k)},a(f,h,c)}}),e.each(["In","Out"],function(c,b){a.Redirects["fade"+b]=function(j,f,g,h,k,l){var c=e.extend({},f),i={opacity:"In"===b?1:0},m=c.complete;c.complete=g!==h-1?c.begin=null:function(){m&&m.call(k,k),l&&l.resolver(k)},c.display===d&&(c.display="In"===b?"auto":"none"),a(this,i,c)}}),a}(window.jQuery||window.Zepto||window,window,document)}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function d(i){var b=i||window.event,p=j.call(arguments,1),l=0,d=0,c=0,m=0,q=0,r=0;if((i=a.event.fix(b)).type="mousewheel","detail"in b&&(c=-1*b.detail),"wheelDelta"in b&&(c=b.wheelDelta),"wheelDeltaY"in b&&(c=b.wheelDeltaY),"wheelDeltaX"in b&&(d=-1*b.wheelDeltaX),"axis"in b&&b.axis===b.HORIZONTAL_AXIS&&(d=-1*c,c=0),l=0===c?d:c,"deltaY"in b&&(l=c=-1*b.deltaY),"deltaX"in b&&(d=b.deltaX,0===c&&(l=-1*d)),0!==c||0!==d){if(1===b.deltaMode){var n=a.data(this,"mousewheel-line-height");l*=n,c*=n,d*=n}else if(2===b.deltaMode){var o=a.data(this,"mousewheel-page-height");l*=o,c*=o,d*=o}if(m=Math.max(Math.abs(c),Math.abs(d)),(!h||h>m)&&(h=m,f(b,m)&&(h/=40)),f(b,m)&&(l/=40,d/=40,c/=40),l=Math[l>=1?"floor":"ceil"](l/h),d=Math[d>=1?"floor":"ceil"](d/h),c=Math[c>=1?"floor":"ceil"](c/h),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();q=i.clientX-s.left,r=i.clientY-s.top}return i.deltaX=d,i.deltaY=c,i.deltaFactor=h,i.offsetX=q,i.offsetY=r,i.deltaMode=0,p.unshift(i,l,d,c),g&&clearTimeout(g),g=setTimeout(e,200),(a.event.dispatch||a.event.handle).apply(this,p)}}function e(){h=null}function f(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120==0}var g,h,b=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],j=Array.prototype.slice;if(a.event.fixHooks)for(var c=b.length;c;)a.event.fixHooks[b[--c]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var b=i.length;b;)this.addEventListener(i[--b],d,!1);else this.onmousewheel=d;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var b=i.length;b;)this.removeEventListener(i[--b],d,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(d){var c=a(d),b=c["offsetParent"in a.fn?"offsetParent":"parent"]();return b.length||(b=a("body")),parseInt(b.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),function(c){var a,d,e,b,f="data-img-parent",g="ab-color-found",h={selector:'[data-colorcheck="1"]',parent:".slide_page",exclude:["rgb(0,0,0)","rgba(255,255,255)"],normalizeTextColor:!1,normalizedTextColors:{light:"#fff",dark:"#000"},lumaClasses:{light:"light",dark:"dark"}};a=window,d=function(b,d){var a=new Image,c=b.src||b;"data:"!==c.substring(0,5)&&(a.crossOrigin="Anonymous"),a.onload=function(){var b=document.createElement("canvas").getContext("2d");b.drawImage(a,0,0);var c=b.getImageData(0,0,a.width,a.height);d&&d(c.data)},a.src=c},e=function(a){return["rgb(",a,")"].join("")},(b={}).colors=function(b,a){var c=(a=a||{}).exclude||[],f=a.paletteSize||10;d(b,function(i){for(var n=b.width*b.height||i.length,j={},d="",k=[],g={dominant:{name:"",count:0},palette:Array.apply(null,new Array(f)).map(Boolean).map(function(){return{name:"0,0,0",count:0}})},h=0;n>h;){if(k[0]=i[h],k[1]=i[h+1],k[2]=i[h+2],j[d=k.join(",")]=d in j?j[d]+1:1,-1===c.indexOf(e(d))){var l=j[d];l>g.dominant.count?(g.dominant.name=d,g.dominant.count=l):g.palette.some(function(a){return l>a.count?(a.name=d,a.count=l,!0):void 0})}h+=20}if(a.success){var o,m=(0,g.palette).map(function(a){return e(a.name)});a.success({dominant:e(g.dominant.name),secondary:m[0],palette:m})}})},a.RGBaster=a.RGBaster||b,c.adaptiveBackground={run:function(a){var b=c.extend({},h,a);c(b.selector).each(function(){var d,a=c(this),e=function(){return a.attr("data-css-background")};a.on(g,function(h,c){g=b.parent&&a.parents(b.parent).length?a.parents(b.parent):a.attr(f)&&a.parents(a.attr(f)).length?a.parents(a.attr(f)):e()?a:b.parent?a.parents(b.parent):a.parent();var g,i,j,d=function(){var a=c.color.match(/\d+/g);return(299*a[0]+587*a[1]+114*a[2])/1e3};b.normalizeTextColor&&g.css({color:d(c.color)>=128?b.normalizedTextColors.dark:b.normalizedTextColors.light}),g.addClass(128>=d(c.color)?b.lumaClasses.dark:b.lumaClasses.light).attr("data-yaq",d(c.color)),b.success&&b.success(a,c)}),d=e()?a.css("background-image").replace("url(","").replace(")",""):a[0],RGBaster.colors(d,{paletteSize:20,exclude:b.exclude,success:function(b){a.attr("data-imgcolor",b.dominant),a.trigger(g,{color:b.dominant,palette:b.palette})}})})}}}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],function(b){return a(b,window,document)}):"object"==typeof exports?module.exports=a(require("jquery"),window,document):a(jQuery,window,document)}(function(b,a,f){"use strict";var g,h,i,j,k,l,m,n,o,p,q,c,r,s,t,u,v,$,w,x,y,z,A,_,d,B,e,C;x={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},t="scroll",m="mousedown",n="mouseenter",o="mousemove",q="mousewheel",p="mouseup",s="resize",k="drag",l="enter",v="up",r="panedown",i="DOMMouseScroll",j="down",$="wheel",u="touchmove",g="Microsoft Internet Explorer"===a.navigator.appName&&/msie 7./i.test(a.navigator.appVersion)&&a.ActiveXObject,h=null,_=a.requestAnimationFrame,w=a.cancelAnimationFrame,B=f.createElement("div").style,C=function(){var a,b,c,d;for(b=["t","webkitT","MozT","msT","OT"],a=c=0,d=b.length;d>c;a=++c)if(b[a],b[a]+"ransform" in B)return b[a].substr(0,b[a].length-1);return!1}(),e=function(a){return!1!==C&&(""===C?a:C+a.charAt(0).toUpperCase()+a.substr(1))},d=e("transform"),z=!1!==d,y=function(){var a,b,c;return(b=(a=f.createElement("div")).style).position="absolute",b.width="100px",b.height="100px",b.overflow=t,b.top="-9999px",f.body.appendChild(a),c=a.offsetWidth-a.clientWidth,f.body.removeChild(a),c},A=function(){var d,c,b;return c=a.navigator.userAgent,!!(d=/(?=.+Mac OS X)(?=.+Firefox)/.test(c))&&((b=/Firefox\/\d{2}\./.exec(c))&&(b=b[0].replace(/\D+/g,"")),d&& +b>23)},c=function(){function c(c,d){this.el=c,this.options=d,h||(h=y()),this.$el=b(this.el),this.doc=b(this.options.documentContext||f),this.win=b(this.options.windowContext||a),this.body=this.doc.find("body"),this.$content=this.$el.children("."+this.options.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return c.prototype.preventScrolling=function(a,b){if(this.isActive){if(a.type===i)(b===j&&a.originalEvent.detail>0||b===v&&a.originalEvent.detail<0)&&a.preventDefault();else if(a.type===q){if(!a.originalEvent||!a.originalEvent.wheelDelta)return;(b===j&&a.originalEvent.wheelDelta<0||b===v&&a.originalEvent.wheelDelta>0)&&a.preventDefault()}}},c.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},c.prototype.updateScrollValues=function(){var a,b;a=this.content,this.maxScrollTop=a.scrollHeight-a.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=a.scrollTop,b=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==b&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:b}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},c.prototype.setOnScrollStyles=function(){var a,b;z?(a={})[d]="translate(0, "+this.sliderTop+"px)":a={top:this.sliderTop},_?(w&&this.scrollRAF&&w(this.scrollRAF),this.scrollRAF=_((b=this,function(){return b.scrollRAF=null,b.slider.css(a)}))):this.slider.css(a)},c.prototype.createEvents=function(){var a,b,c,d,e,f,g,h;this.events={down:(a=this,function(b){return a.isBeingDragged=!0,a.offsetY=b.pageY-a.slider.offset().top,a.slider.is(b.target)||(a.offsetY=0),a.pane.addClass("active"),a.doc.bind(o,a.events[k]).bind(p,a.events[v]),a.body.bind(n,a.events[l]),!1}),drag:(b=this,function(a){return b.sliderY=a.pageY-b.$el.offset().top-b.paneTop-(b.offsetY||.5*b.sliderHeight),b.scroll(),b.contentScrollTop>=b.maxScrollTop&&b.prevScrollTop!==b.maxScrollTop?b.$el.trigger("scrollend"):0===b.contentScrollTop&&0!==b.prevScrollTop&&b.$el.trigger("scrolltop"),!1}),up:(c=this,function(){return c.isBeingDragged=!1,c.pane.removeClass("active"),c.doc.unbind(o,c.events[k]).unbind(p,c.events[v]),c.body.unbind(n,c.events[l]),!1}),resize:(d=this,function(){d.reset()}),panedown:(e=this,function(a){return e.sliderY=(a.offsetY||a.originalEvent.layerY)-.5*e.sliderHeight,e.scroll(),e.events.down(a),!1}),scroll:(f=this,function(a){f.updateScrollValues(),f.isBeingDragged||(f.iOSNativeScrolling||(f.sliderY=f.sliderTop,f.setOnScrollStyles()),null!=a&&(f.contentScrollTop>=f.maxScrollTop?(f.options.preventPageScrolling&&f.preventScrolling(a,j),f.prevScrollTop!==f.maxScrollTop&&f.$el.trigger("scrollend")):0===f.contentScrollTop&&(f.options.preventPageScrolling&&f.preventScrolling(a,v),0!==f.prevScrollTop&&f.$el.trigger("scrolltop"))))}),wheel:(g=this,function(a){var b;return null!=a?((b=a.delta||a.wheelDelta||a.originalEvent&&a.originalEvent.wheelDelta||-a.detail||a.originalEvent&&-a.originalEvent.detail)&&(g.sliderY+=-b/3),g.scroll(),!1):void 0}),enter:(h=this,function(a){var b;return h.isBeingDragged&&1!==(a.buttons||a.which)?(b=h.events)[v].apply(b,arguments):void 0})}},c.prototype.addEvents=function(){var a;this.removeEvents(),a=this.events,this.options.disableResize||this.win.bind(s,a[s]),this.iOSNativeScrolling||(this.slider.bind(m,a[j]),this.pane.bind(m,a[r]).bind(""+q+" "+i,a[$])),this.$content.bind(""+t+" "+q+" "+i+" "+u,a[t])},c.prototype.removeEvents=function(){var a;a=this.events,this.win.unbind(s,a[s]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+t+" "+q+" "+i+" "+u,a[t])},c.prototype.generate=function(){var b,e,f,c,d;return c=(e=this.options).paneClass,d=e.sliderClass,e.contentClass,(f=this.$el.children("."+c)).length||f.children("."+d).length||this.$el.append('<div class="'+c+'"><div class="'+d+'" /></div>'),this.pane=this.$el.children("."+c),this.slider=this.pane.find("."+d),0===h&&A()?b={right:-14,paddingRight:+a.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,"")+14}:h&&(b={right:-h},this.$el.addClass("has-scrollbar")),null!=b&&this.$content.css(b),this},c.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},c.prototype.reset=function(){var b,f,i,l,c,m,d,e,j,k,n,a;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),c=(l=(b=this.content).style).overflowY,g&&this.$content.css({height:this.$content.height()}),f=b.scrollHeight+h,(k=parseInt(this.$el.css("max-height"),10))>0&&(this.$el.height(""),this.$el.height(b.scrollHeight>k?k:b.scrollHeight)),d=this.pane.outerHeight(!1),j=parseInt(this.pane.css("top"),10),m=parseInt(this.pane.css("bottom"),10),e=d+j+m,a=Math.round(e/f*d),a<this.options.sliderMinHeight?a=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&a>this.options.sliderMaxHeight&&(a=this.options.sliderMaxHeight),c===t&&l.overflowX!==t&&(a+=h),this.maxSliderTop=e-a,this.contentHeight=f,this.paneHeight=d,this.paneOuterHeight=e,this.sliderHeight=a,this.paneTop=j,this.slider.height(a),this.events.scroll(),this.pane.show(),this.isActive=!0,b.scrollHeight===b.clientHeight||this.pane.outerHeight(!0)>=b.scrollHeight&&c!==t?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===b.scrollHeight&&c===t?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),i=this.$content.css("position"),("static"===i||"relative"===i)&&(n=parseInt(this.$content.css("right"),10))&&this.$content.css({right:"",marginRight:n}),this)},c.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},c.prototype.scrollBottom=function(a){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-a).trigger(q),this.stop().restore(),this):void 0},c.prototype.scrollTop=function(a){return this.isActive?(this.$content.scrollTop(+a).trigger(q),this.stop().restore(),this):void 0},c.prototype.scrollTo=function(a){return this.isActive?(this.scrollTop(this.$el.find(a).get(0).offsetTop),this):void 0},c.prototype.stop=function(){return w&&this.scrollRAF&&(w(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},c.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),g&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},c.prototype.flash=function(){var a;return!this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass("flashed"),setTimeout((a=this,function(){a.pane.removeClass("flashed")}),this.options.flashDelay),this):void 0},c}(),b.fn.nanoScroller=function(a){return this.each(function(){var e,d;if((d=this.nanoscroller)||(e=b.extend({},x,a),this.nanoscroller=d=new c(this,e)),a&&"object"==typeof a){if(b.extend(d.options,a),null!=a.scrollBottom)return d.scrollBottom(a.scrollBottom);if(null!=a.scrollTop)return d.scrollTop(a.scrollTop);if(a.scrollTo)return d.scrollTo(a.scrollTo);if("bottom"===a.scroll)return d.scrollBottom(0);if("top"===a.scroll)return d.scrollTop(0);if(a.scroll&&a.scroll instanceof b)return d.scrollTo(a.scroll);if(a.stop)return d.stop();if(a.destroy)return d.destroy();if(a.flash)return d.flash()}return d.reset()})},b.fn.nanoScroller.Constructor=c}),function d(e,f,b){function c(a,k){if(!f[a]){if(!e[a]){var i="function"==typeof require&&require;if(!k&&i)return i(a,!0);if(g)return g(a,!0);var j=new Error("Cannot find module '"+a+"'");throw j.code="MODULE_NOT_FOUND",j}var h=f[a]={exports:{}};e[a][0].call(h.exports,function(b){return c(e[a][1][b]||b)},h,h.exports,d,e,f,b)}return f[a].exports}for(var g="function"==typeof require&&require,a=0;a<b.length;a++)c(b[a]);return c}({1:[function(b,d){"use strict";function a(a){a.fn.perfectScrollbar=function(b){return this.each(function(){if("object"==typeof b|| void 0===b){var d=b;f.get(this)||e.initialize(this,d)}else{var c=b;"update"===c?e.update(this):"destroy"===c&&e.destroy(this)}return a(this)})}}var e=b("../main"),f=b("../plugin/instances");if("function"==typeof define&&define.amd)define(["jquery"],a);else{var c=window.jQuery?window.jQuery:window.$;void 0!==c&&a(c)}d.exports=a},{"../main":7,"../plugin/instances":18}],2:[function(b,c,a){"use strict";a.add=function(a,e){var b,c,d;a.classList?a.classList.add(e):(b=a,c=e,0>(d=b.className.split(" ")).indexOf(c)&&d.push(c),b.className=d.join(" "))},a.remove=function(a,d){var b,e,c,f;a.classList?a.classList.remove(d):(b=a,e=d,(f=(c=b.className.split(" ")).indexOf(e))>=0&&c.splice(f,1),b.className=c.join(" "))},a.list=function(a){return a.classList?a.classList:a.className.split(" ")}},{}],3:[function(b,c,a){"use strict";a.e=function(b,c){var a=document.createElement(b);return a.className=c,a},a.appendTo=function(a,b){return b.appendChild(a),a},a.css=function(c,a,e){var f,g,d,h,b;return"object"==typeof a?function(b,c){for(var d in c){var a=c[d];"number"==typeof a&&(a=a.toString()+"px"),b.style[d]=a}return b}(c,a):void 0===e?(f=c,g=a,window.getComputedStyle(f)[g]):(d=c,h=a,"number"==typeof(b=e)&&(b=b.toString()+"px"),d.style[h]=b,d)},a.matches=function(a,b){return void 0!==a.matches?a.matches(b):void 0!==a.matchesSelector?a.matchesSelector(b):void 0!==a.webkitMatchesSelector?a.webkitMatchesSelector(b):void 0!==a.mozMatchesSelector?a.mozMatchesSelector(b):void 0!==a.msMatchesSelector?a.msMatchesSelector(b):void 0},a.remove=function(a){void 0!==a.remove?a.remove():a.parentNode.removeChild(a)}},{}],4:[function(d,c){"use strict";var b=function(a){this.element=a,this.events={}};b.prototype.bind=function(a,b){void 0===this.events[a]&&(this.events[a]=[]),this.events[a].push(b),this.element.addEventListener(a,b,!1)},b.prototype.unbind=function(a,b){var c=void 0!==b;this.events[a]=this.events[a].filter(function(d){return!!c&&d!==b||(this.element.removeEventListener(a,d,!1),!1)},this)},b.prototype.unbindAll=function(){for(var a in this.events)this.unbind(a)};var a=function(){this.eventElements=[]};a.prototype.eventElement=function(c){var a=this.eventElements.filter(function(a){return a.element===c})[0];return void 0===a&&(a=new b(c),this.eventElements.push(a)),a},a.prototype.bind=function(a,b,c){this.eventElement(a).bind(b,c)},a.prototype.unbind=function(a,b,c){this.eventElement(a).unbind(b,c)},a.prototype.unbindAll=function(){for(var a=0;a<this.eventElements.length;a++)this.eventElements[a].unbindAll()},a.prototype.once=function(a,b,e){var c=this.eventElement(a),d=function(a){c.unbind(b,d),e(a)};c.bind(b,d)},c.exports=a},{}],5:[function(b,a){"use strict";a.exports=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}()},{}],6:[function(b,c,a){"use strict";var d=b("./class"),e=b("./dom");a.toInt=function(a){return"string"==typeof a?parseInt(a,10):~~a},a.clone=function(a){if(null===a)return null;if("object"==typeof a){var b={};for(var c in a)b[c]=this.clone(a[c]);return b}return a},a.extend=function(d,a){var b=this.clone(d);for(var c in a)b[c]=this.clone(a[c]);return b},a.isEditable=function(a){return e.matches(a,"input,[contenteditable]")||e.matches(a,"select,[contenteditable]")||e.matches(a,"textarea,[contenteditable]")||e.matches(a,"button,[contenteditable]")},a.removePsClasses=function(b){for(var c=d.list(b),a=0;a<c.length;a++){var e=c[a];0===e.indexOf("ps-")&&d.remove(b,e)}},a.outerWidth=function(a){return this.toInt(e.css(a,"width"))+this.toInt(e.css(a,"paddingLeft"))+this.toInt(e.css(a,"paddingRight"))+this.toInt(e.css(a,"borderLeftWidth"))+this.toInt(e.css(a,"borderRightWidth"))},a.startScrolling=function(a,b){d.add(a,"ps-in-scrolling"),void 0!==b?d.add(a,"ps-"+b):(d.add(a,"ps-x"),d.add(a,"ps-y"))},a.stopScrolling=function(a,b){d.remove(a,"ps-in-scrolling"),void 0!==b?d.remove(a,"ps-"+b):(d.remove(a,"ps-x"),d.remove(a,"ps-y"))},a.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(a,b){"use strict";var c=a("./plugin/destroy"),d=a("./plugin/initialize"),e=a("./plugin/update");b.exports={initialize:d,update:e,destroy:c}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":20}],8:[function(b,a){"use strict";a.exports={wheelSpeed:1,wheelPropagation:!1,swipePropagation:!0,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0}},{}],9:[function(a,b){"use strict";var c=a("../lib/dom"),d=a("../lib/helper"),e=a("./instances");b.exports=function(b){var a=e.get(b);a.event.unbindAll(),c.remove(a.scrollbarX),c.remove(a.scrollbarY),c.remove(a.scrollbarXRail),c.remove(a.scrollbarYRail),d.removePsClasses(b),e.remove(b)}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(a,b){"use strict";var c=a("../../lib/helper"),d=a("../instances"),e=a("../update-geometry");b.exports=function(a){var b=d.get(a);(function(d,a){function f(a){return a.getBoundingClientRect()}var b=window.Event.prototype.stopPropagation.bind;a.event.bind(a.scrollbarY,"click",b),a.event.bind(a.scrollbarYRail,"click",function(g){var h=c.toInt(a.scrollbarYHeight/2),i=g.pageY-f(a.scrollbarYRail).top-h,j=a.containerHeight-a.scrollbarYHeight,b=i/j;0>b?b=0:b>1&&(b=1),d.scrollTop=(a.contentHeight-a.containerHeight)*b,e(d)}),a.event.bind(a.scrollbarX,"click",b),a.event.bind(a.scrollbarXRail,"click",function(g){var h=c.toInt(a.scrollbarXWidth/2),i=g.pageX-f(a.scrollbarXRail).left-h;console.log(g.pageX,a.scrollbarXRail.offsetLeft);var b=i/(a.containerWidth-a.scrollbarXWidth);0>b?b=0:b>1&&(b=1),d.scrollLeft=(a.contentWidth-a.containerWidth)*b,e(d)})})(a,b)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19}],11:[function(a,b){"use strict";var c=a("../../lib/dom"),d=a("../../lib/helper"),e=a("../instances"),f=a("../update-geometry");b.exports=function(a){var b=e.get(a);(function(b,a){var e=null,g=null,h=function(h){var c,i,j;c=e+(h.pageX-g),i=a.containerWidth-a.scrollbarXWidth,a.scrollbarXLeft=0>c?0:c>i?i:c,j=d.toInt(a.scrollbarXLeft*(a.contentWidth-a.containerWidth)/(a.containerWidth-a.scrollbarXWidth)),b.scrollLeft=j,f(b),h.stopPropagation(),h.preventDefault()},i=function(){d.stopScrolling(b,"x"),a.event.unbind(a.ownerDocument,"mousemove",h)};a.event.bind(a.scrollbarX,"mousedown",function(f){g=f.pageX,e=d.toInt(c.css(a.scrollbarX,"left")),d.startScrolling(b,"x"),a.event.bind(a.ownerDocument,"mousemove",h),a.event.once(a.ownerDocument,"mouseup",i),f.stopPropagation(),f.preventDefault()})})(a,b),function(b,a){var e=null,g=null,h=function(h){var c,i,j;c=e+(h.pageY-g),i=a.containerHeight-a.scrollbarYHeight,a.scrollbarYTop=0>c?0:c>i?i:c,j=d.toInt(a.scrollbarYTop*(a.contentHeight-a.containerHeight)/(a.containerHeight-a.scrollbarYHeight)),b.scrollTop=j,f(b),h.stopPropagation(),h.preventDefault()},i=function(){d.stopScrolling(b,"y"),a.event.unbind(a.ownerDocument,"mousemove",h)};a.event.bind(a.scrollbarY,"mousedown",function(f){g=f.pageY,e=d.toInt(c.css(a.scrollbarY,"top")),d.startScrolling(b,"y"),a.event.bind(a.ownerDocument,"mousemove",h),a.event.once(a.ownerDocument,"mouseup",i),f.stopPropagation(),f.preventDefault()})}(a,b)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19}],12:[function(a,b){"use strict";var c=a("../../lib/helper"),d=a("../instances"),e=a("../update-geometry");b.exports=function(a){var b=d.get(a);(function(b,a){var d=!1;a.event.bind(b,"mouseenter",function(){d=!0}),a.event.bind(b,"mouseleave",function(){d=!1});var f=!1;a.event.bind(a.ownerDocument,"keydown",function(h){if((!h.isDefaultPrevented||!h.isDefaultPrevented())&&d){var i=document.activeElement?document.activeElement:a.ownerDocument.activeElement;if(i){for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(c.isEditable(i))return}var j=0,g=0;switch(h.which){case 37:j=-30;break;case 38:g=30;break;case 39:j=30;break;case 40:g=-30;break;case 33:g=90;break;case 32:case 34:g=-90;break;case 35:g=h.ctrlKey?-a.contentHeight:-a.containerHeight;break;case 36:g=h.ctrlKey?b.scrollTop:a.containerHeight;break;default:return}b.scrollTop=b.scrollTop-g,b.scrollLeft=b.scrollLeft+j,e(b),(f=function(c,d){var e=b.scrollTop;if(0===c){if(!a.scrollbarYActive)return!1;if(0===e&&d>0||e>=a.contentHeight-a.containerHeight&&0>d)return!a.settings.wheelPropagation}var f=b.scrollLeft;if(0===d){if(!a.scrollbarXActive)return!1;if(0===f&&0>c||f>=a.contentWidth-a.containerWidth&&c>0)return!a.settings.wheelPropagation}return!0}(j,g))&&h.preventDefault()}})})(a,b)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19}],13:[function(a,b){"use strict";var c=a("../../lib/helper"),d=a("../instances"),e=a("../update-geometry");b.exports=function(a){var b=d.get(a);(function(a,b){function d(k){if(c.env.isWebKit||!a.querySelector("select:focus")){var h,d,g,l=(d=(h=k).deltaX,g=-1*h.deltaY,(void 0===d|| void 0===g)&&(d=-1*h.wheelDeltaX/6,g=h.wheelDeltaY/6),h.deltaMode&&1===h.deltaMode&&(d*=10,g*=10),d!=d&&g!=g&&(d=0,g=h.wheelDelta),[d,g]),i=l[0],j=l[1];f=!1,b.settings.useBothWheelAxes?b.scrollbarYActive&&!b.scrollbarXActive?(a.scrollTop=j?a.scrollTop-j*b.settings.wheelSpeed:a.scrollTop+i*b.settings.wheelSpeed,f=!0):b.scrollbarXActive&&!b.scrollbarYActive&&(a.scrollLeft=i?a.scrollLeft+i*b.settings.wheelSpeed:a.scrollLeft-j*b.settings.wheelSpeed,f=!0):(a.scrollTop=a.scrollTop-j*b.settings.wheelSpeed,a.scrollLeft=a.scrollLeft+i*b.settings.wheelSpeed),e(a),(f=f||function(c,d){var e=a.scrollTop;if(0===c){if(!b.scrollbarYActive)return!1;if(0===e&&d>0||e>=b.contentHeight-b.containerHeight&&0>d)return!b.settings.wheelPropagation}var f=a.scrollLeft;if(0===d){if(!b.scrollbarXActive)return!1;if(0===f&&0>c||f>=b.contentWidth-b.containerWidth&&c>0)return!b.settings.wheelPropagation}return!0}(i,j))&&(k.stopPropagation(),k.preventDefault())}}var f=!1;void 0!==window.onwheel?b.event.bind(a,"wheel",d):void 0!==window.onmousewheel&&b.event.bind(a,"mousewheel",d)})(a,b)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19}],14:[function(a,b){"use strict";var c=a("../instances"),d=a("../update-geometry");b.exports=function(a){var b=c.get(a);(function(a,b){b.event.bind(a,"scroll",function(){d(a)})})(a,b)}},{"../instances":18,"../update-geometry":19}],15:[function(a,b){"use strict";var c=a("../../lib/helper"),d=a("../instances"),e=a("../update-geometry");b.exports=function(a){var b=d.get(a);(function(b,a){function f(){g&&(clearInterval(g),g=null),c.stopScrolling(b)}var g=null,h={top:0,left:0},i=!1;a.event.bind(a.ownerDocument,"selectionchange",function(){var a;b.contains(0===(a=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"").toString().length?null:a.getRangeAt(0).commonAncestorContainer)?i=!0:(i=!1,f())}),a.event.bind(window,"mouseup",function(){i&&(i=!1,f())}),a.event.bind(window,"mousemove",function(k){if(i){var a={x:k.pageX,y:k.pageY},j={left:b.offsetLeft,right:b.offsetLeft+b.offsetWidth,top:b.offsetTop,bottom:b.offsetTop+b.offsetHeight};a.x<j.left+3?(h.left=-5,c.startScrolling(b,"x")):a.x>j.right-3?(h.left=5,c.startScrolling(b,"x")):h.left=0,a.y<j.top+3?(h.top=j.top+3-a.y<5?-5:-20,c.startScrolling(b,"y")):a.y>j.bottom-3?(h.top=a.y-j.bottom+3<5?5:20,c.startScrolling(b,"y")):h.top=0,0===h.top&&0===h.left?f():g||(g=setInterval(function(){return d.get(b)?(b.scrollTop=b.scrollTop+h.top,b.scrollLeft=b.scrollLeft+h.left,void e(b)):void clearInterval(g)},50))}})})(a,b)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19}],16:[function(a,b){"use strict";var c=a("../instances"),d=a("../update-geometry");b.exports=function(a,b,e){var f=c.get(a);(function(b,a,j,k){function l(a,c){b.scrollTop=b.scrollTop-c,b.scrollLeft=b.scrollLeft-a,d(b)}function e(){s=!0}function f(){s=!1}function m(a){return a.targetTouches?a.targetTouches[0]:a}function n(a){return!!a.targetTouches&&1===a.targetTouches.length|| !!a.pointerType&&"mouse"!==a.pointerType&&a.pointerType!==a.MSPOINTER_TYPE_MOUSE}function g(a){if(n(a)){t=!0;var b=m(a);o.pageX=b.pageX,o.pageY=b.pageY,p=(new Date).getTime(),null!==r&&clearInterval(r),a.stopPropagation()}}function h(c){if(!s&&t&&n(c)){var h=m(c),d={pageX:h.pageX,pageY:h.pageY},e=d.pageX-o.pageX,f=d.pageY-o.pageY;l(e,f),o=d;var i=(new Date).getTime(),g=i-p;g>0&&(q.x=e/g,q.y=f/g,p=i),function(c,d){var e=b.scrollTop,f=b.scrollLeft,g=Math.abs(c),h=Math.abs(d);if(h>g){if(0>d&&e===a.contentHeight-a.containerHeight||d>0&&0===e)return!a.settings.swipePropagation}else if(g>h&&(0>c&&f===a.contentWidth-a.containerWidth||c>0&&0===f))return!a.settings.swipePropagation;return!0}(e,f)&&(c.stopPropagation(),c.preventDefault())}}function i(){!s&&t&&(t=!1,clearInterval(r),r=setInterval(function(){return c.get(b)?.01>Math.abs(q.x)&&.01>Math.abs(q.y)?void clearInterval(r):(l(30*q.x,30*q.y),q.x*=.8,void(q.y*=.8)):void clearInterval(r)},10))}var o={},p=0,q={},r=null,s=!1,t=!1;j&&(a.event.bind(window,"touchstart",e),a.event.bind(window,"touchend",f),a.event.bind(b,"touchstart",g),a.event.bind(b,"touchmove",h),a.event.bind(b,"touchend",i)),k&&(window.PointerEvent?(a.event.bind(window,"pointerdown",e),a.event.bind(window,"pointerup",f),a.event.bind(b,"pointerdown",g),a.event.bind(b,"pointermove",h),a.event.bind(b,"pointerup",i)):window.MSPointerEvent&&(a.event.bind(window,"MSPointerDown",e),a.event.bind(window,"MSPointerUp",f),a.event.bind(b,"MSPointerDown",g),a.event.bind(b,"MSPointerMove",h),a.event.bind(b,"MSPointerUp",i)))})(a,f,b,e)}},{"../instances":18,"../update-geometry":19}],17:[function(a,b){"use strict";var c=a("../lib/class"),d=a("../lib/helper"),e=a("./instances"),f=a("./update-geometry"),g=a("./handler/click-rail"),h=a("./handler/drag-scrollbar"),i=a("./handler/keyboard"),j=a("./handler/mouse-wheel"),k=a("./handler/native-scroll"),l=a("./handler/selection"),m=a("./handler/touch");b.exports=function(a,b){b="object"==typeof b?b:{},c.add(a,"ps-container");var n=e.add(a);n.settings=d.extend(n.settings,b),g(a),h(a),j(a),k(a),l(a),(d.env.supportsTouch||d.env.supportsIePointer)&&m(a,d.env.supportsTouch,d.env.supportsIePointer),n.settings.useKeyboard&&i(a),f(a)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(a,c,b){"use strict";function d(b){var a=this;a.settings=j.clone(g),a.containerWidth=null,a.containerHeight=null,a.contentWidth=null,a.contentHeight=null,a.isRtl="rtl"===f.css(b,"direction"),a.event=new h,a.ownerDocument=b.ownerDocument||document,a.scrollbarXRail=f.appendTo(f.e("div","ps-scrollbar-x-rail"),b),a.scrollbarX=f.appendTo(f.e("div","ps-scrollbar-x"),a.scrollbarXRail),a.scrollbarXActive=null,a.scrollbarXWidth=null,a.scrollbarXLeft=null,a.scrollbarXBottom=j.toInt(f.css(a.scrollbarXRail,"bottom")),a.isScrollbarXUsingBottom=a.scrollbarXBottom==a.scrollbarXBottom,a.scrollbarXTop=a.isScrollbarXUsingBottom?null:j.toInt(f.css(a.scrollbarXRail,"top")),a.railBorderXWidth=j.toInt(f.css(a.scrollbarXRail,"borderLeftWidth"))+j.toInt(f.css(a.scrollbarXRail,"borderRightWidth")),a.railXMarginWidth=j.toInt(f.css(a.scrollbarXRail,"marginLeft"))+j.toInt(f.css(a.scrollbarXRail,"marginRight")),a.railXWidth=null,a.scrollbarYRail=f.appendTo(f.e("div","ps-scrollbar-y-rail"),b),a.scrollbarY=f.appendTo(f.e("div","ps-scrollbar-y"),a.scrollbarYRail),a.scrollbarYActive=null,a.scrollbarYHeight=null,a.scrollbarYTop=null,a.scrollbarYRight=j.toInt(f.css(a.scrollbarYRail,"right")),a.isScrollbarYUsingRight=a.scrollbarYRight==a.scrollbarYRight,a.scrollbarYLeft=a.isScrollbarYUsingRight?null:j.toInt(f.css(a.scrollbarYRail,"left")),a.scrollbarYOuterWidth=a.isRtl?j.outerWidth(a.scrollbarY):null,a.railBorderYWidth=j.toInt(f.css(a.scrollbarYRail,"borderTopWidth"))+j.toInt(f.css(a.scrollbarYRail,"borderBottomWidth")),a.railYMarginHeight=j.toInt(f.css(a.scrollbarYRail,"marginTop"))+j.toInt(f.css(a.scrollbarYRail,"marginBottom")),a.railYHeight=null}function e(a){return void 0===a.dataset?a.getAttribute("data-ps-id"):a.dataset.psId}var f=a("../lib/dom"),g=a("./default-setting"),h=a("../lib/event-manager"),i=a("../lib/guid"),j=a("../lib/helper"),k={};b.add=function(e){var a,b,c=i();return a=e,b=c,void 0===a.dataset?a.setAttribute("data-ps-id",b):a.dataset.psId=b,k[c]=new d(e),k[c]},b.remove=function(b){var a;delete k[e(b)],void 0===(a=b).dataset?a.removeAttribute("data-ps-id"):delete a.dataset.psId},b.get=function(a){return k[e(a)]}},{"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(a,b){"use strict";function c(b,a){return b.settings.minScrollbarLength&&(a=Math.max(a,b.settings.minScrollbarLength)),b.settings.maxScrollbarLength&&(a=Math.min(a,b.settings.maxScrollbarLength)),a}var d=a("../lib/class"),e=a("../lib/dom"),f=a("../lib/helper"),g=a("./instances");b.exports=function(h){var i,b,j,k,a=g.get(h);a.containerWidth=h.clientWidth,a.containerHeight=h.clientHeight,a.contentWidth=h.scrollWidth,a.contentHeight=h.scrollHeight,!a.settings.suppressScrollX&&a.containerWidth+a.settings.scrollXMarginOffset<a.contentWidth?(a.scrollbarXActive=!0,a.railXWidth=a.containerWidth-a.railXMarginWidth,a.scrollbarXWidth=c(a,f.toInt(a.railXWidth*a.containerWidth/a.contentWidth)),a.scrollbarXLeft=f.toInt(h.scrollLeft*(a.railXWidth-a.scrollbarXWidth)/(a.contentWidth-a.containerWidth))):(a.scrollbarXActive=!1,a.scrollbarXWidth=0,a.scrollbarXLeft=0,h.scrollLeft=0),!a.settings.suppressScrollY&&a.containerHeight+a.settings.scrollYMarginOffset<a.contentHeight?(a.scrollbarYActive=!0,a.railYHeight=a.containerHeight-a.railYMarginHeight,a.scrollbarYHeight=c(a,f.toInt(a.railYHeight*a.containerHeight/a.contentHeight)),a.scrollbarYTop=f.toInt(h.scrollTop*(a.railYHeight-a.scrollbarYHeight)/(a.contentHeight-a.containerHeight))):(a.scrollbarYActive=!1,a.scrollbarYHeight=0,a.scrollbarYTop=0,h.scrollTop=0),a.scrollbarXLeft>=a.railXWidth-a.scrollbarXWidth&&(a.scrollbarXLeft=a.railXWidth-a.scrollbarXWidth),a.scrollbarYTop>=a.railYHeight-a.scrollbarYHeight&&(a.scrollbarYTop=a.railYHeight-a.scrollbarYHeight),i=h,(j={width:(b=a).railXWidth}).left=b.isRtl?i.scrollLeft+b.containerWidth-b.contentWidth:i.scrollLeft,b.isScrollbarXUsingBottom?j.bottom=b.scrollbarXBottom-i.scrollTop:j.top=b.scrollbarXTop+i.scrollTop,e.css(b.scrollbarXRail,j),k={top:i.scrollTop,height:b.railYHeight},b.isScrollbarYUsingRight?k.right=b.isRtl?b.contentWidth-i.scrollLeft-b.scrollbarYRight-b.scrollbarYOuterWidth:b.scrollbarYRight-i.scrollLeft:k.left=b.isRtl?i.scrollLeft+2*b.containerWidth-b.contentWidth-b.scrollbarYLeft-b.scrollbarYOuterWidth:b.scrollbarYLeft+i.scrollLeft,e.css(b.scrollbarYRail,k),e.css(b.scrollbarX,{left:b.scrollbarXLeft,width:b.scrollbarXWidth-b.railBorderXWidth}),e.css(b.scrollbarY,{top:b.scrollbarYTop,height:b.scrollbarYHeight-b.railBorderYWidth}),d[a.scrollbarXActive?"add":"remove"](h,"ps-active-x"),d[a.scrollbarYActive?"add":"remove"](h,"ps-active-y")}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18}],20:[function(a,b){"use strict";var c=a("../lib/dom"),d=a("./destroy"),e=a("./initialize"),f=a("./instances"),g=a("./update-geometry");b.exports=function(b){var a=f.get(b);a.scrollbarXRail&&b.contains(a.scrollbarXRail)&&a.scrollbarYRail&&b.contains(a.scrollbarYRail)?(c.css(a.scrollbarXRail,"display","none"),c.css(a.scrollbarYRail,"display","none"),g(b),c.css(a.scrollbarXRail,"display","block"),c.css(a.scrollbarYRail,"display","block")):(d(b),e(b))}},{"../lib/dom":3,"./destroy":9,"./initialize":17,"./instances":18,"./update-geometry":19}]},{},[1]);var windowWidth,windowHeight,headerHeight,$scr,docElem=window.document.documentElement,stopscroll=pjaxflag=ie=safari=!1,device="pc",listPoint=1480,categoryCols=3,scrollVal=0;$(function(){$html=$("html"),$spMenu=$(".togglemenu_content"),deviceFromSize(),$html.addClass(getUA()),$fadeElems=$(".footer, .scrollTop, .page, .contact_page"),$hdInner=$(".header .inner > *"),$hdInner.velocity({translateY:"20px"},{duration:1}),load(),init(),$scr.on("scroll",scrollFunc)}),$(window).on("resize",function(){setsize(),wsSetsize(),delayInSetting(),wsResetImg()}),$.support.pjax&&($(document).on("click","a.aj, .aj a",function(a){if(a.preventDefault(),a.metaKey||a.ctrlKey)return window.open(this.href),!1;var b=$(this).attr("href");pjaxflag=!0,stopscroll=!1,$(".hdbar").addClass("notrans").velocity({opacity:0},{duration:300,complete:function(){$(".hdbar").css({opacity:1,width:0}),$.pjax({url:b,container:".page",fragment:".page",timeout:2e3,wait:1e3})}})}),$(document).on("pjax:send",function(){$html.removeClass("dirNext dirPrev").addClass("loading"),$fadeElems.velocity({opacity:0},{duration:300}),$hdInner.velocity({opacity:0,translateY:"20px"},{duration:300,delay:300}),enable_scroll()}),$(document).on("pjax:success",function(){ga("send","pageview",window.location.pathname+window.location.search),$scr.scrollTop("0"),load()}),$(document).on("pjax:end",function(){init(),createVideo(),pjaxflag||(worksImgLoad(),$(".header .inner > *, .footer, .scrollTop, .page, .contact_page").css({opacity:"1",transform:"","-webkit-transform":""}),"pc"!=device&&$(".article_slider").perfectScrollbar("update"))}),$(document).on("pjax:popstate",function(){}),$(document).on("pjax:timeout",function(){location.reload()})),$(window).on("mousewheel",function(b){var a=$("html");b.deltaY>30&&a.is(".hdfixon")&&!stopscroll?a.addClass("pageUp"):b.deltaY<0&&a.removeClass("pageUp")}),$(document).on("click",".openPopup",function(){stopscroll=!0,stopscrollPos=$scr.scrollTop(),popupTgt=$(this).data("popup");var a=$(this).data("lang");$(".popup"+popupTgt).addClass("-o"),$(".overlay").fadeIn("400"),$(".learnmore_"+a).show(),setTimeout(function(){$(".nano").nanoScroller()},600)}),$(document).on("click",".close, .overlay",function(){stopscroll=!1,$(".popup"+popupTgt).removeClass("-o"),$(".learnmore_lang").hide(),$(".overlay").fadeOut("800")}),$(document).on("click",".swichbtn",function(b){b.preventDefault();var a=$(this);if(a.is(".active"))return!1;var c=a.data("swich");$(".workslist").removeClass("showmode_titles showmode_images").addClass("showmode_"+c),a.addClass("active").siblings().removeClass("active")}),$(document).on("change","input:checkbox",function(){$(this),$(this).parents("label").toggleClass("checked")}),function(a){a.fn.thumbnailSlider=function(b){var c=a.extend({},a.fn.thumbnailSlider.defaults,b);return this.each(function(){var e=a(this),b=a.meta?a.extend({},c,$pxs_container.data()):c,f=e.children(".slidenav_thumbnails"),d=e.children(".slidenavs").children("li"),j=d.length,g=f.children(".slidenav_preview_wrapper"),k=g.children(".slidenav_preview"),h=b.thumb_width+6,l=b.thumb_height+6+6,i=d.eq(0),m=i.position().left-.5*h+.5*i.width();f.css({width:h+"px",height:l+"px",left:m+"px"}),k.css("width",j*b.thumb_width+"px"),g.css({width:b.thumb_width+"px",height:b.thumb_height+"px"}),d.on("mouseenter",function(){var c=a(this),d=c.index(),e=c.position().left-.5*h+.5*c.width();f.stop(!0).show().velocity({left:e+"px"},b.speed,b.easing),k.stop(!0).velocity({left:-d*b.thumb_width+"px"},b.speed,b.easing)}).on("mouseleave",function(){f.stop(!0).hide()})})},a.fn.thumbnailSlider.defaults={speed:200,easing:[.645,.045,.355,1],thumb_width:160,thumb_height:90}}(jQuery);var vidLen,vidID=[],player=[],tag=document.createElement("script");tag.src="//www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag),window.onYouTubeIframeAPIReady=function(){createVideo()},$(document).on({mouseover:function(){$(".navigator").hide()},mouseleave:function(){$(".navigator").show()},click:function(b){b.preventDefault();var a=$(this).data("ytgt");$html.is(".playvideo")?player[a].pauseVideo():player[a].playVideo()}},".playbtn"),$(document).on("click",".togglemenu_btn",function(){$html.is(".menu-o")||($spMenu.css({top:0,left:0}),$html.addClass("menu-o"))}),$(document).on("click",".menu-o .togglemenu_btn, .togglemenu_content a",function(){setTimeout(function(){$spMenu.css({top:-windowHeight/2,left:-windowWidth/2}),$html.removeClass("menu-o")},400)}),$(document).on("click",".scrollTop",function(){var a=scrollVal/200*100;return"pc"!=device?$scr.animate({scrollTop:0},a):$("html, body").velocity("scroll",{duration:a,offset:0}),$html.removeClass("hdfixon"),!1})
